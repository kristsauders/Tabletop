{"ts":1347855459671,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":true,"ts":1347855924518,"patch":[[{"diffs":[[1,"\nfunction loginSuccess() {\n    setTimeout(function(){window.location.reload(true);}, 1000);\n}\n    \nfunction login() {\n    var data = new Object();\n    data.user = prompt(\"Enter username\",\"\");\n    data.password = prompt(\"Enter password\",\"\");\n    $.ajax({\n       type: 'POST',\n       url: '/users/list/login',\n       data: data,\n       success: loginSuccess(),\n       dataType: 'json'\n    });\n}\n\nfunction logoutSuccess() {\n        setTimeout(function(){window.location.reload(true);}, 1000);\n    }\n\nfunction logout() {\n    $.ajax({\n       type: 'POST',\n       url: '/users/list/logout',\n       data: '',\n       success: logoutSuccess(),\n       dataType: 'json'\n    });\n}\n\nvar ddpp=null;\nfunction getScrollXY() {\n      var scrOfX = 0, scrOfY = 0;\n\t  if( typeof( window.pageYOffset ) == 'number' ) {\n\t    //Netscape compliant\n\t    scrOfY = window.pageYOffset;\n\t    scrOfX = window.pageXOffset;\n\t  } else if( document.body && ( document.body.scrollLeft || document.body.scrollTop ) ) {\n\t    //DOM compliant\n\t    scrOfY = document.body.scrollTop;\n\t    scrOfX = document.body.scrollLeft;\n\t  } else if( document.documentElement && ( document.documentElement.scrollLeft || document.documentElement.scrollTop ) ) {\n\t    //IE6 standards compliant mode\n\t    scrOfY = document.documentElement.scrollTop;\n\t    scrOfX = document.documentElement.scrollLeft;\n\t  }\n\t  return [ scrOfX, scrOfY ];\n\t}\nfunction get_cookie(Name) {\n\t  var search = Name + \"=\"\n\t  var returnvalue = \"\";\n\t  if (document.cookie.length > 0) {\n\t    offset = document.cookie.indexOf(search)\n\t    // if cookie exists\n\t    if (offset != -1) { \n\t      offset += search.length\n\t      // set index of beginning of value\n\t      end = document.cookie.indexOf(\";\", offset);\n\t      // set index of end of cookie value\n\t      if (end == -1) end = document.cookie.length;\n\t      returnvalue=unescape(document.cookie.substring(offset, end))\n\t      }\n\t   }\n\t  return returnvalue;\n\t}\nfunction pageScroll() {\n\tvar scrollY = get_cookie(\"scrollY\");\n\tvar scrollX = get_cookie(\"scrollX\");\n\twindow.scrollBy(scrollX,scrollY); \n}\n\nfunction setPageScroll() {\n\tvar exp = new Date( );\n\tvar nowPlus = exp.getTime( ) + (5000);\n\texp.setTime(nowPlus);\n\tdocument.cookie = \"scrollY=\" + getScrollXY()[1] + \"; expires=\" + exp.toGMTString( );\n\tdocument.cookie = \"scrollX=\" + getScrollXY()[0] + \"; expires=\" + exp.toGMTString( );\n}\nfunction showUpload() {\n\tdocument.getElementById(\"upload\").style.visibility = 'visible';\n\tif(!document.getElementById(\"overlay\")){\n\t\tx = document.getElementsByTagName(\"img\");\n\t\tfor (i=0;i<x.length;i++)\n\t\t{\n\t\t\tx[i].style.visibility = 'hidden';\n\t\t}\n\t} else {\n\t\tdocument.getElementById(\"overlay\").style.visibility = 'visible';\n\t}\n}\nfunction hideUpload() {\n\tdocument.getElementById(\"upload\").style.visibility = 'hidden';\n\tif(!document.getElementById(\"overlay\")){\n\t\tx = document.getElementsByTagName(\"img\");\n\t\tfor (i=0;i<x.length;i++)\n\t\t{\n\t\t\tx[i].style.visibility = 'visible';\n\t\t}\n\t} else {\n\tdocument.getElementById(\"overlay\").style.visibility = 'hidden';\n\t}\n}\nfunction showLinkUpload() {\n\tdocument.getElementById(\"uploadLink\").style.visibility = 'visible';\n\tif(!document.getElementById(\"overlay\")){\n\t\tx = document.getElementsByTagName(\"img\");\n\t\tfor (i=0;i<x.length;i++)\n\t\t{\n\t\t\tx[i].style.visibility = 'hidden';\n\t\t}\n\t} else {\n\t\tdocument.getElementById(\"overlay\").style.visibility = 'visible';\n\t}\n}\nfunction hideLinkUpload() {\n\tdocument.getElementById(\"uploadLink\").style.visibility = 'hidden';\n\tif(!document.getElementById(\"overlay\")){\n\t\tx = document.getElementsByTagName(\"img\");\n\t\tfor (i=0;i<x.length;i++)\n\t\t{\n\t\t\tx[i].style.visibility = 'visible';\n\t\t}\n\t} else {\n\tdocument.getElementById(\"overlay\").style.visibility = 'hidden';\n\t}\n}"]],"start1":0,"start2":0,"length1":0,"length2":3676}]],"length":3676,"saved":false}
{"ts":1347856063129,"patch":[[{"diffs":[[0,".visibility = 'hidden';\n\t}\n}"],[1,"\n    function getWindowSize() {\n         var viewportwidth;\n         var viewportheight;\n        \n         if (typeof window.innerWidth != 'undefined')\n         {\n              viewportwidth = window.innerWidth;\n              viewportheight = window.innerHeight;\n         } else if (typeof document.documentElement != 'undefined'\n             && typeof document.documentElement.clientWidth !=\n             'undefined' && document.documentElement.clientWidth != 0)\n         {\n               viewportwidth = document.documentElement.clientWidth;\n               viewportheight = document.documentElement.clientHeight;\n         } else {\n               viewportwidth = document.getElementsByTagName('body')[0].clientWidth;\n               viewportheight = document.getElementsByTagName('body')[0].clientHeight\n         }\n         if(viewportwidth==0) {\n        \t viewportwidth = document.getElementsByTagName('body')[0].clientWidth;}\n         if(viewportheight==0) {\n             viewportheight = document.getElementsByTagName('body')[0].clientWidth;}\n         return [viewportwidth, viewportheight];\n\t}"]],"start1":3648,"start2":3648,"length1":28,"length2":1125}]],"length":4773,"saved":false}
{"ts":1347856119776,"patch":[[{"diffs":[[0,"theight];\n\t}"],[1,"\nfunction resizeFirst() {\n    x = document.getElementsByTagName(\"img\");\n\tvar viewportwidth = getWindowSize()[0];\n\tfor (i=0;i<x.length;i++)\n\t{\n\t\tx[i].style.width = x[i].width*(viewportwidth/1366)+\"px\";\n\t\tx[i].style.height = x[i].height*(viewportwidth/1366)+\"px\";\n\t\tx[i].style.left = parseInt(x[i].style.left)*(viewportwidth/1366)+\"px\";\n\t\tx[i].style.top = parseInt(x[i].style.top)*(viewportwidth/1366)+\"px\";\n\t}\n}\n\nfunction showDelete() {\n\tx = document.getElementsByTagName(\"img\");\n\tfor (i=0;i<x.length;i++)\n\t{\n\tif(x[i].name.split(\"jpgdivNI\")[1]==\"mG\" || x[i].name.split(\"pngdivNI\")[1]==\"mG\") {\n\tvar element = document.createElement(\"input\");\n\telement.setAttribute(\"type\",\"button\");\n\telement.setAttribute(\"value\",\"x\");\n\telement.setAttribute(\"onclick\",\"javascript:deleteImage(this)\");\n\telement.onclick = function() {deleteImage(this);};\n\telement.style.position = 'absolute';\n\telement.style.left = '0px';\n\telement.style.top = '0px';\n\tx[i].parentNode.appendChild(element);\n\t}\n}\n\tdocument.getElementById(\"adminDeleteButton\").onclick = hideDelete;\n\tdocument.getElementById(\"adminDeleteButton\").value = \"Done deleting\";\n\t\n}\n\nfunction hideDelete() {\n\tx = document.getElementsByTagName(\"img\");\n\tfor (i=0;i<x.length;i++)\n\t{\n\t\tif(x[i].name.split(\"jpgdivNI\")[1]==\"mG\" || x[i].name.split(\"pngdivNI\")[1]==\"mG\") {\n\t\t\tx[i].parentNode.removeChild(x[i].parentNode.lastChild);\n\t\t}\n    }\n\tdocument.getElementById(\"adminDeleteButton\").onclick = showDelete;\n\tdocument.getElementById(\"adminDeleteButton\").value = \"Delete image\";\n}\n\n function fullScreen(el) {\n\t if(document.getElementById(el.src.split(\"/\").pop().replace('-small','').replace('-medium','').replace('-large','')+\"link\")) {\n\t\t var linkObj = document.getElementById(el.src.split(\"/\").pop().replace('-small','').replace('-medium','').replace('-large','')+\"link\");\n         var t = '';\n\t\t if(linkObj.innerText){\n\t\t\t t = linkObj.innerText;\n\t\t } else if(linkObj.textContent) {\n\t\t\t t = linkObj.textContent;\n\t\t }\n         if(t.indexOf('javascript:')==-1) {\n             window.location = t;\n         } else {\n             eval(t);\n         }\n\t } else {\n        document.getElementById(\"fullScreenImage\").src = el.src;\n        var ih = document.getElementById(el.id).firstChild.height;\n        var iw = document.getElementById(el.id).firstChild.width;\n        document.getElementById(\"fullScreenImage\").style.width = getWindowSize()[0] + 'px';\n           var rs = getWindowSize()[1]/getWindowSize()[0];\n           var ri = ih/iw;\n           var rsi = rs/ri;\n           if(rsi>1) {\n               document.getElementById(\"fullScreenImg\").style.width = 0.9*getWindowSize()[0] + 'px';\n               document.getElementById(\"fullScreenImg\").style.left = 0.05*getWindowSize()[0] + 'px';\n               document.getElementById(\"fullScreenImage\").style.width = 0.9*getWindowSize()[0] + 'px';\n           } else {\n               var rsic = rsi*0.9*getWindowSize()[0];\n               document.getElementById(\"fullScreenImg\").style.width = rsic + 'px';\n               document.getElementById(\"fullScreenImg\").style.left = (getWindowSize()[0]-rsic)/2 + 'px';\n               document.getElementById(\"fullScreenImage\").style.width = rsic + 'px';\n           }\n\n       if(document.getElementById(\"overlay\")){\n       \t\tdocument.getElementById(\"overlay\").style.visibility = 'visible';\n       }\n       if(document.getElementById(\"fullScreenImage\").complete) {\n           document.getElementById(\"closeFullscreenButton\").style.visibility = 'visible';\n           document.getElementById(\"fullScreenImg\").style.visibility = 'visible';\n           document.getElementById(\"fullScreenImage\").style.visibility = 'visible';\n       }\n       document.getElementById(\"fullScreenImage\").onload = function() {\n               document.getElementById(\"closeFullscreenButton\").style.visibility = 'visible';\n               document.getElementById(\"fullScreenImg\").style.visibility = 'visible';\n               document.getElementById(\"fullScreenImage\").style.visibility = 'visible';\n       }\n       var hiResImg = new Image();\n       hiResImg.src = el.src.substring(0,el.src.lastIndexOf('-')) + '-large' + el.src.substring(el.src.lastIndexOf('.'));\n       if(hiResImg.complete) {\n           if((document.getElementById(\"fullScreenImage\").style.visibility=='visible') && (document.getElementById(\"fullScreenImage\").src==el.src)) {\n                document.getElementById(\"fullScreenImage\").src = hiResImg.src;\n           }\n       }\n       hiResImg.onload = function() {\n           if((document.getElementById(\"fullScreenImage\").style.visibility=='visible') && (document.getElementById(\"fullScreenImage\").src==el.src)) {\n               document.getElementById(\"fullScreenImage\").src = hiResImg.src;\n           }\n       }\n        ddpp = dd;\n        dd.obj=null;\n        dd.evt=function(d_e) {};\n     }\n}\n\nfunction closeFullscreen() {\n    dd=ddpp;\n    dd.evt = function(d_e)\n    {\n        this.but = (this.e = d_e || window.event).which || this.e.button || 0;\n        this.button = (this.e.type == 'mousedown')? this.but\n    \t\t: (dd.e && dd.e.button)? dd.e.button\n    \t\t: 0;\n    \tthis.src = this.e.target || this.e.srcElement || null;\n    \tthis.src.tag = (\"\" + (this.src.tagName || this.src)).toLowerCase();\n    \tthis.x = dd.Int(this.e.pageX || this.e.clientX || 0);\n    \tthis.y = dd.Int(this.e.pageY || this.e.clientY || 0);\n    \tif(dd.ie)\n    \t{\n    \t\tthis.x += dd.getScrollX() - (dd.ie && !dd.iemac)*1;\n    \t\tthis.y += dd.getScrollY() - (dd.ie && !dd.iemac)*1;\n    \t}\n    \t//this.modifKey = this.e.modifiers? this.e.modifiers&Event.SHIFT_MASK : (this.e.shiftKey || false);\n    \tif((this.but==3) || (this.but==2)){\n    \t\tthis.modifKey = true;\n    \t} else {\n    \t\tthis.modifKey = false;\n    \t}\n    };\n\tdocument.getElementById(\"fullScreenImage\").style.visibility = 'hidden';\n   document.getElementById(\"fullScreenImg\").style.visibility = 'hidden';\n   if(document.getElementById(\"overlay\")){\n   \t\tdocument.getElementById(\"overlay\").style.visibility = 'hidden';\n   }\n   document.getElementById(\"closeFullscreenButton\").style.visibility = 'hidden';\n}\n\nfunction deleteImage(el) {\n\tsaveToLocalStorage();\n\tsetPageScroll();\n  var myForm = document.createElement(\"form\");\n  myForm.method=\"post\" ;\n  myForm.action = \"/<%=data.params.user + '/' + data.params.gallery%>/photos/delete\";\n    var myInput = document.createElement(\"input\") ;\n    myInput.setAttribute(\"name\", \"file\") ;\n    myInput.setAttribute(\"value\", el.parentNode.id.substring(0,el.parentNode.id.length-3));\n    myForm.appendChild(myInput) ;\n    var myInput5 = document.createElement(\"input\") ;\n    myInput5.setAttribute(\"name\", \"deleteIsOn\") ;\n    myInput5.setAttribute(\"value\", \"false\");\n    myForm.appendChild(myInput5) ;\n  document.body.appendChild(myForm) ;\n  myForm.submit() ;\n  document.body.removeChild(myForm) ;\n}\n\nfunction success() {\n    \n}\nfunction saveCoords() {\n    saveToLocalStorage();\n    setPageScroll();\n    \n    var data = new Object();\n    data.side = dd.obj.x*(1366/getWindowSize()[0]);\n    data.top = dd.obj.y*(1366/getWindowSize()[0]);\n    data.image = dd.obj.name;\n    data.width = dd.obj.w*(1366/getWindowSize()[0]);\n    data.height = dd.obj.h*(1366/getWindowSize()[0]);\n    data.deleteIsOn = '';\n    data.z = dd.z;\n    $.ajax({\n      type: 'POST',\n      url: '/<%=data.params.user + '/' + data.params.gallery%>/upsert',\n      data: data,\n      success: success(),\n      dataType: 'json'\n    });\n}\n\nfunction updateLink(el) {\n    saveToLocalStorage();\n\tsetPageScroll();\n  var myForm = document.createElement(\"form\");\n  myForm.method=\"post\" ;\n  myForm.action = \"/<%=data.params.user + '/' + data.params.gallery%>/updateLink\";\n    var myInput = document.createElement(\"input\") ;\n    myInput.setAttribute(\"name\", \"file\") ;\n    myInput.setAttribute(\"value\", el.parentNode.id.substring(0,el.parentNode.id.length-3));\n    myForm.appendChild(myInput) ;\n    var myInput5 = document.createElement(\"input\") ;\n    myInput5.setAttribute(\"name\", \"link\") ;\n    myInput5.setAttribute(\"value\", prompt(\"Link\", \"\"));\n    myForm.appendChild(myInput5) ;\n  document.body.appendChild(myForm) ;\n  myForm.submit() ;\n  document.body.removeChild(myForm) ;\n}\n\nfunction hideLinkUpdate() {\n    x = document.getElementsByTagName(\"img\");\n\tfor (i=0;i<x.length;i++)\n\t{\n\t\tif(x[i].name.split(\"jpgdivNI\")[1]==\"mG\" || x[i].name.split(\"pngdivNI\")[1]==\"mG\") {\n\t\t\tx[i].parentNode.removeChild(x[i].parentNode.lastChild);\n\t\t}\n    }\n\tdocument.getElementById(\"updateLinkButton\").onclick = showLinkUpdate;\n\tdocument.getElementById(\"updateLinkButton\").value = \"Update Image Link\";\n}\n\nfunction showLinkUpdate() {\n    x = document.getElementsByTagName(\"img\");\n\tfor (i=0;i<x.length;i++)\n\t{\n    \tif(x[i].name.split(\"jpgdivNI\")[1]==\"mG\" || x[i].name.split(\"pngdivNI\")[1]==\"mG\") {\n    \tvar element = document.createElement(\"input\");\n    \telement.setAttribute(\"type\",\"button\");\n    \telement.setAttribute(\"value\",\"This\");\n    \telement.setAttribute(\"onclick\",\"javascript:updateLink(this)\");\n    \telement.onclick = function() {updateLink(this);};\n    \telement.style.position = 'absolute';\n    \telement.style.left = '0px';\n    \telement.style.top = '0px';\n    \tx[i].parentNode.appendChild(element);\n    \t}\n    }\n\tdocument.getElementById(\"updateLinkButton\").onclick = hideLinkUpdate;\n\tdocument.getElementById(\"updateLinkButton\").value = \"Cancel\";\n\t\n}\n\nfunction goHome() {\n  saveToLocalStorage();\n  var myForm = document.createElement(\"form\");\n  myForm.method=\"get\" ;\n  myForm.action = '/<%=data.params.user%>/galleries/list';\n  document.body.appendChild(myForm);\n  myForm.submit();\n  document.body.removeChild(myForm);\n}\nfunction shortClick(src) {\n\talert(src);\n}\nfunction fullScreenButton(el) {\n\tvar fullScreenButton = document.createElement(\"img\");\n\tfullScreenButton.setAttribute(\"id\", \"fullScreenButton\");\n\tfullScreenButton.setAttribute(\"src\",\"/images/upArrow.png\");\n\tel.parentNode.appendChild(fullScreenButton);\n\tfullScreenButton = document.getElementById(\"fullScreenButton\");\n\tfullScreenButton.style.position = 'absolute';\n\tfullScreenButton.style.left = '0px';\n\tfullScreenButton.style.top = '0px';\n\tfullScreenButton.style.width = el.width*0.05+\"px\";\n\tfullScreenButton.style.height = fullScreenButton.style.width;\n\tfullScreenButton.style.visibility = 'visible';\n\t\n\tvar fullScreenButton2 = document.createElement(\"img\");\n\tfullScreenButton2.setAttribute(\"id\", \"fullScreenButton2\");\n\tfullScreenButton2.setAttribute(\"src\",\"/images/downArrow.png\");\n\tel.parentNode.appendChild(fullScreenButton2);\n\tfullScreenButton2 = document.getElementById(\"fullScreenButton2\");\n\tfullScreenButton2.style.position = 'absolute';\n\tfullScreenButton2.style.right = '0px';\n\tfullScreenButton2.style.bottom = '0px';\n\tfullScreenButton2.style.width = el.width*0.05+\"px\";\n\tfullScreenButton2.style.height = fullScreenButton2.style.width;\n\tfullScreenButton2.style.visibility = 'visible';\n}\nfunction deleteFullScreenButton(el) {\n\tvar fullScreenButton = document.getElementById(\"fullScreenButton\");\n\tfullScreenButton.parentNode.removeChild(fullScreenButton);\n\tvar fullScreenButton2 = document.getElementById(\"fullScreenButton2\");\n\tfullScreenButton2.parentNode.removeChild(fullScreenButton2);\n}"]],"start1":4761,"start2":4761,"length1":12,"length2":11082}]],"length":15843,"saved":false}
{"ts":1347857961029,"patch":[[{"diffs":[[0,"nButton2);\n}"],[1,"\n"]],"start1":15831,"start2":15831,"length1":12,"length2":13}]],"length":15844,"saved":false}
{"ts":1347857988860,"patch":[[{"diffs":[[0,"Button2);\n}\n"],[1,"function signup()"]],"start1":15832,"start2":15832,"length1":12,"length2":29}]],"length":15861,"saved":false}
{"ts":1347857990615,"patch":[[{"diffs":[[0,"signup()"],[1," {\n    "]],"start1":15853,"start2":15853,"length1":8,"length2":15}]],"length":15868,"saved":false}
{"ts":1347857992637,"patch":[[{"diffs":[[0," signup() {\n    "],[1,"var data = new Object();\n    data.user = prompt(\"Enter username\",\"\");\n    data.password = prompt(\"Enter password\",\"\");\n    function signupSuccess() {\n    setTimeout(function(){\n\t\twindow.location = '/' + data.user + '/galleries/list';\n\t}, 1000);\n    }\n    $.ajax({\n       type: 'POST',\n       url: '/users/list/new',\n       data: data,\n       success: signupSuccess(),\n       dataType: 'json'\n    });"]],"start1":15852,"start2":15852,"length1":16,"length2":415}]],"length":16267,"saved":false}
{"ts":1347857994180,"patch":[[{"diffs":[[0,"    dataType: 'json'\n    });"],[1,"\n    "]],"start1":16239,"start2":16239,"length1":28,"length2":33}]],"length":16272,"saved":false}
{"ts":1347857995069,"patch":[[{"diffs":[[0,"    });\n"],[-1,"    "],[1,"}"]],"start1":16260,"start2":16260,"length1":12,"length2":9}]],"length":16269,"saved":false}
{"ts":1347857996655,"patch":[[{"diffs":[[0,"  dataType: 'json'\n    });\n}"],[1,"\n"]],"start1":16241,"start2":16241,"length1":28,"length2":29}]],"length":16270,"saved":false}
{"ts":1347858011940,"patch":[[{"diffs":[[0," dataType: 'json'\n    });\n}\n"],[1,"function "]],"start1":16242,"start2":16242,"length1":28,"length2":37}]],"length":16279,"saved":false}
{"ts":1347858038841,"patch":[[{"diffs":[[0,"\n    });\n}\nfunction "],[1,"delete"]],"start1":16259,"start2":16259,"length1":20,"length2":26}]],"length":16285,"saved":false}
{"ts":1347858040866,"patch":[[{"diffs":[[0,"   });\n}\nfunction delete"],[1,"Account() "]],"start1":16261,"start2":16261,"length1":24,"length2":34}]],"length":16295,"saved":false}
{"ts":1347858042303,"patch":[[{"diffs":[[0,"teAccount() "],[1,"{\n    \n    var data = new Object();\n    data.user = prompt(\"Enter username\",\"\");\n    data.password = prompt(\"Enter password\",\"\");\n    function deleteUser() {\n    setTimeout(function(){\n\t\twindow.location = '/admin';\n\t}, 1000);\n    }\n    $.get(\n       '/users/list/account/delete/' + data.user,\n       function(data) {\n\tdeleteUser();\n    });\n"]],"start1":16283,"start2":16283,"length1":12,"length2":352}]],"length":16635,"saved":false}
{"ts":1347858045470,"patch":[[{"diffs":[[0,"User();\n    });\n"],[1,"}"]],"start1":16619,"start2":16619,"length1":16,"length2":17}]],"length":16636,"saved":false}
{"ts":1347858051630,"patch":[[{"diffs":[[0,"unt() {\n"],[-1,"    \n"],[0,"    var "]],"start1":16289,"start2":16289,"length1":21,"length2":16}]],"length":16631,"saved":false}
{"ts":1347858054520,"patch":[[{"diffs":[[0,"ser();\n    });\n}"],[1,"\n"]],"start1":16615,"start2":16615,"length1":16,"length2":17}]],"length":16632,"saved":false}
{"ts":1347858071439,"patch":[[{"diffs":[[0,"er();\n    });\n}\n"],[1,"function newGallery() "]],"start1":16616,"start2":16616,"length1":16,"length2":38}]],"length":16654,"saved":false}
{"ts":1347858072889,"patch":[[{"diffs":[[0,"llery() "],[1,"{\n    var data = new Object();\n    data.user = prompt(\"Enter username\",\"\");\n    data.gallery = prompt(\"Enter gallery name\",\"\");\n    function newGallerySuccess() {\n    setTimeout(function(){\n\t\twindow.location = '/' + data.user + '/' + data.gallery;\n\t}, 1000);\n    }\n    $.ajax({\n       type: 'POST',\n       url: '/' + data.user + '/galleries/new',\n       data: data,\n       success: newGallerySuccess(data),\n       dataType: 'json'\n    });\n"]],"start1":16646,"start2":16646,"length1":8,"length2":447}]],"length":17093,"saved":false}
{"ts":1347858074524,"patch":[[{"diffs":[[0,"   dataType: 'json'\n    });\n"],[1,"}"]],"start1":17065,"start2":17065,"length1":28,"length2":29}]],"length":17094,"saved":false}
{"ts":1347858075261,"patch":[[{"diffs":[[0,"  dataType: 'json'\n    });\n}"],[1,"\n"]],"start1":17066,"start2":17066,"length1":28,"length2":29}]],"length":17095,"saved":false}
{"ts":1347858094021,"patch":[[{"diffs":[[0," dataType: 'json'\n    });\n}\n"],[1,"function deleteG"]],"start1":17067,"start2":17067,"length1":28,"length2":44}]],"length":17111,"saved":false}
{"ts":1347858095660,"patch":[[{"diffs":[[0," deleteG"],[1,"allery()"]],"start1":17103,"start2":17103,"length1":8,"length2":16}]],"length":17119,"saved":false}
{"ts":1347858096889,"patch":[[{"diffs":[[0," deleteGallery()"],[1," {\n    var data = new Object();\n    data.user = prompt(\"Enter username\",\"\");\n    data.gallery = prompt(\"Enter gallery\",\"\");\n    data.password = prompt(\"Enter password\",\"\");\n    function deleteGallery() {\n    setTimeout(function(){\n\t\twindow.location = '/' + data.user + '/galleries/list';\n\t}, 1000);\n    }\n    $.get(\n       '/' + data.user + '/' + data.gallery + '/delete',\n       function(data) {\n\tdeleteGallery();\n    });"]],"start1":17103,"start2":17103,"length1":16,"length2":438}]],"length":17541,"saved":false}
{"ts":1347858097979,"patch":[[{"diffs":[[0,"llery();\n    });"],[1,"\n    "]],"start1":17525,"start2":17525,"length1":16,"length2":21}]],"length":17546,"saved":false}
{"ts":1347858098867,"patch":[[{"diffs":[[0,"    });\n"],[-1,"    "],[1,"}"]],"start1":17534,"start2":17534,"length1":12,"length2":9}]],"length":17543,"saved":false}
{"contributors":[],"silentsave":false,"ts":1347913616725,"patch":[[{"diffs":[[0,"i++)\n\t{\n"],[1,"        if(x[i].id==\"background\") continue;\n"],[0,"\t\tx[i].s"]],"start1":4907,"start2":4907,"length1":16,"length2":60}]],"length":17587,"saved":false}
{"contributors":[],"silentsave":false,"ts":1347918707889,"patch":[[{"diffs":[[0,"ion "],[-1,"deleteImage(el) {\n\tsaveToLocalStorage();\n\tsetPageScroll();\n  var myForm = document.createElement(\"form\");\n  myForm.method=\"post\" ;\n  myForm.action = \"/<%=data.params.user + '/' + data.params.gallery%>/photos/delete\";\n    var myInput = document.createElement(\"input\") ;\n    myInput.setAttribute(\"name\", \"file\") ;\n    myInput.setAttribute(\"value\", el.parentNode.id.substring(0,el.parentNode.id.length-3));\n    myForm.appendChild(myInput) ;\n    var myInput5 = document.createElement(\"input\") ;\n    myInput5.setAttribute(\"name\", \"deleteIsOn\") ;\n    myInput5.setAttribute(\"value\", \"false\");\n    myForm.appendChild(myInput5) ;\n  document.body.appendChild(myForm) ;\n  myForm.submit() ;\n  document.body.removeChild(myForm) ;\n}\n\nfunction success() {\n    \n}\nfunction saveCoords() {\n    saveToLocalStorage();\n    setPageScroll();\n    \n    var data = new Object();\n    data.side = dd.obj.x*(1366/getWindowSize()[0]);\n    data.top = dd.obj.y*(1366/getWindowSize()[0]);\n    data.image = dd.obj.name;\n    data.width = dd.obj.w*(1366/getWindowSize()[0]);\n    data.height = dd.obj.h*(1366/getWindowSize()[0]);\n    data.deleteIsOn = '';\n    data.z = dd.z;\n    $.ajax({\n      type: 'POST',\n      url: '/<%=data.params.user + '/' + data.params.gallery%>/upsert',\n      data: data,\n      success: success(),\n      dataType: 'json'\n    });"],[1,"success() {\n    "],[0,"\n}\n\n"]],"start1":10861,"start2":10861,"length1":1325,"length2":24}]],"length":16286,"saved":false}
{"ts":1347918729278,"patch":[[{"diffs":[[0,"\n}\n\n"],[-1,"function updateLink(el) {\n    saveToLocalStorage();\n\tsetPageScroll();\n  var myForm = document.createElement(\"form\");\n  myForm.method=\"post\" ;\n  myForm.action = \"/<%=data.params.user + '/' + data.params.gallery%>/updateLink\";\n    var myInput = document.createElement(\"input\") ;\n    myInput.setAttribute(\"name\", \"file\") ;\n    myInput.setAttribute(\"value\", el.parentNode.id.substring(0,el.parentNode.id.length-3));\n    myForm.appendChild(myInput) ;\n    var myInput5 = document.createElement(\"input\") ;\n    myInput5.setAttribute(\"name\", \"link\") ;\n    myInput5.setAttribute(\"value\", prompt(\"Link\", \"\"));\n    myForm.appendChild(myInput5) ;\n  document.body.appendChild(myForm) ;\n  myForm.submit() ;\n  document.body.removeChild(myForm) ;\n}\n\n"],[0,"func"]],"start1":10881,"start2":10881,"length1":741,"length2":8}]],"length":15553,"saved":false}
{"ts":1347918755816,"patch":[[{"diffs":[[0,"\n}\n\n"],[-1,"function goHome() {\n  saveToLocalStorage();\n  var myForm = document.createElement(\"form\");\n  myForm.method=\"get\" ;\n  myForm.action = '/<%=data.params.user%>/galleries/list';\n  document.body.appendChild(myForm);\n  myForm.submit();\n  document.body.removeChild(myForm);\n}\n"],[0,"func"]],"start1":12041,"start2":12041,"length1":277,"length2":8}]],"length":15284,"saved":false}
{"ts":1347922003901,"patch":[[{"diffs":[[0,"dth/1366)+\"px\";\n"],[-1,"\t\t"],[1,"        if(x[i].style.height)\n\t\t    "],[0,"x[i].style.heigh"]],"start1":5002,"start2":5002,"length1":34,"length2":68}]],"length":15318,"saved":false}
{"ts":1347922122311,"patch":[[{"diffs":[[0,"e.height"],[1,"!=null"],[0,")\n\t\t    "]],"start1":5038,"start2":5038,"length1":16,"length2":22}]],"length":15324,"saved":false}
{"ts":1347922133509,"patch":[[{"diffs":[[0,"ight"],[-1,"!=null"],[0,")\n\t\t"]],"start1":5042,"start2":5042,"length1":14,"length2":8}]],"length":15318,"saved":false}
{"ts":1347925390241,"patch":[[{"diffs":[[0,"Gallery();\n    });\n}"],[1,"\nfunction drawImage() {\n    window.open(document.URL.split('#')[0] + '/draw','_blank','location=0,width=900,height=600');\n}"]],"start1":15298,"start2":15298,"length1":20,"length2":143}]],"length":15441,"saved":false}
{"ts":1347925426581,"patch":[[{"diffs":[[0,"plit('#')[0]"],[1,".split('?')[0]"],[0," + '/draw','"]],"start1":15372,"start2":15372,"length1":24,"length2":38}]],"length":15455,"saved":false}
{"contributors":[],"silentsave":false,"ts":1348003790207,"patch":[[{"diffs":[[0,"ion = '/"],[-1,"admin"],[0,"';\n\t}, 1"]],"start1":14264,"start2":14264,"length1":21,"length2":16}]],"length":15450,"saved":false}
{"ts":1348005118969,"patch":[[{"diffs":[[0,"ght=600');\n}"],[1,"\n$(\"img\").hover(\n  function () {\n    $(this).src=\"\";\n  }, \n  function () {\n    $(this).src=\"\";\n  }\n);"]],"start1":15438,"start2":15438,"length1":12,"length2":113}]],"length":15551,"saved":false}
{"ts":1348005241129,"patch":[[{"diffs":[[0,");\n}\n$(\""],[-1,"img"],[1,"a"],[0,"\").hover"]],"start1":15446,"start2":15446,"length1":19,"length2":17}]],"length":15549,"saved":false}
{"ts":1348005256961,"patch":[[{"diffs":[[0,");\n}\n$(\""],[-1,"a"],[1,"img"],[0,"\").hover"]],"start1":15446,"start2":15446,"length1":17,"length2":19},{"diffs":[[0,"  function () {\n"],[1,"      alert('hey');\n"],[0,"    $(this).src="]],"start1":15467,"start2":15467,"length1":32,"length2":52}]],"length":15571,"saved":false}
{"ts":1348005277952,"patch":[[{"diffs":[[0,");\n}"],[-1,"\n$(\"img\").hover(\n  function () {\n      alert('hey');\n    $(this).src=\"\";\n  }, \n  function () {\n    $(this).src=\"\";\n  }\n);"]],"start1":15446,"start2":15446,"length1":125,"length2":4}]],"length":15450,"saved":false}
{"contributors":[],"silentsave":false,"ts":1348705944212,"patch":[[{"diffs":[[0,"ow.location = '/"],[1,"home/"],[0,"' + data.user + "]],"start1":13826,"start2":13826,"length1":32,"length2":37},{"diffs":[[0,"ata.user"],[-1," + '/galleries/list'"],[0,";\n\t}, 10"]],"start1":13852,"start2":13852,"length1":36,"length2":16},{"diffs":[[0,"ow.location = '/"],[1,"home/"],[0,"' + data.user + "]],"start1":15111,"start2":15111,"length1":32,"length2":37},{"diffs":[[0,"user"],[-1," + '/galleries/list'"],[0,";\n\t}"]],"start1":15141,"start2":15141,"length1":28,"length2":8}]],"length":15420,"saved":false}
{"contributors":[],"silentsave":false,"ts":1348873543525,"patch":[[{"diffs":[[0,"ght=600');\n}"],[1,"\n$(document).ready(function(){\n  $(\"img\").hover(\n      function () {\n        $(this).css('opacity','0');\n        var a = $(this).attr('alt');\n        $(this).parent().append('<div class=\"imgTitle\" style=\"z-index:9;font-size:3em;position:absolute;left:' + $(this).css('left') + ';top:' + $(this).css('top') + ';\">' + a + '</div>');\n      }, function() {\n          \n          $(this).css('opacity', '1');\n          $(this).next().remove('.imgTitle');\n      }\n    );\n});"]],"start1":15408,"start2":15408,"length1":12,"length2":479}]],"length":15887,"saved":false}
{"ts":1348873639122,"patch":[[{"diffs":[[0,"){\n  $(\""],[-1,"i"],[1,".gridI"],[0,"mg\").hov"]],"start1":15448,"start2":15448,"length1":17,"length2":22}]],"length":15892,"saved":false}
{"ts":1348878025500,"patch":[[{"diffs":[[0," newGallery() {\n"],[1,"    alert(document.URL.pop());\n"],[0,"    var data = n"]],"start1":14395,"start2":14395,"length1":32,"length2":63}]],"length":15923,"saved":false}
{"ts":1348878085711,"patch":[[{"diffs":[[0,"ent.URL."],[1,"split('#')[0].split('?')[0].split('/')."],[0,"pop());\n"]],"start1":14426,"start2":14426,"length1":16,"length2":55}]],"length":15962,"saved":false}
{"ts":1348878141155,"patch":[[{"diffs":[[0,") {\n    "],[-1,"alert("],[1,"var data = new Object();\n    data.user = "],[0,"document"]],"start1":14407,"start2":14407,"length1":22,"length2":57},{"diffs":[[0,"op()"],[-1,");\n    var data = new Object();\n    data.user = prompt(\"Enter username\",\"\")"],[0,";\n  "]],"start1":14509,"start2":14509,"length1":83,"length2":8}]],"length":15922,"saved":false}
{"ts":1348878273519,"patch":[[{"diffs":[[0,"r = "],[-1,"prompt(\"Enter username\",\"\");\n    data.gallery = prompt(\"Enter gallery\",\"\");\n    data.password = prompt(\"Enter password"],[1,"document.URL.split('#')[0].split('?')[0].split('/').pop();\n    data.gallery = prompt(\"Enter gallery"],[0,"\",\"\""]],"start1":14948,"start2":14948,"length1":126,"length2":107}]],"length":15903,"saved":false}
{"ts":1348878353536,"patch":[[{"diffs":[[0,"on deleteGallery"],[1,"Success"],[0,"() {\n    setTime"]],"start1":15068,"start2":15068,"length1":32,"length2":39},{"diffs":[[0,"eGallery"],[1,"Success"],[0,"();\n    "]],"start1":15280,"start2":15280,"length1":16,"length2":23}]],"length":15917,"saved":false}
{"ts":1348878444930,"patch":[[{"diffs":[[0," password\",\"\");\n"],[1,"    if(data.password) {\n    "],[0,"    function del"]],"start1":14164,"start2":14164,"length1":32,"length2":60},{"diffs":[[0,"leteUser"],[1,"Success"],[0,"() {\n   "]],"start1":14223,"start2":14223,"length1":16,"length2":23},{"diffs":[[0,"Success() {\n    "],[1,"  "],[1,"  "],[0,"setTimeout(funct"]],"start1":14231,"start2":14231,"length1":32,"length2":36},{"diffs":[[0,"out(function(){\n"],[1,"    "],[0,"\t\twindow.locatio"]],"start1":14258,"start2":14258,"length1":32,"length2":36},{"diffs":[[0," = '/';\n"],[1,"    "],[0,"\t}, 1000"]],"start1":14295,"start2":14295,"length1":16,"length2":20},{"diffs":[[0,"\n    \t}, 1000);\n"],[1,"    "],[0,"    }\n"],[1,"    "],[0,"    $.get(\n     "]],"start1":14302,"start2":14302,"length1":38,"length2":46},{"diffs":[[0,"\n       "],[1,"   "],[1," "],[0,"'/users/"]],"start1":14342,"start2":14342,"length1":16,"length2":20},{"diffs":[[0,"ta.user,\n       "],[1,"    "],[0,"function(data) {"]],"start1":14388,"start2":14388,"length1":32,"length2":36},{"diffs":[[0,"ion(data) {\n"],[1,"    "],[0,"\tdeleteUser("]],"start1":14413,"start2":14413,"length1":24,"length2":28},{"diffs":[[0,"leteUser"],[-1,"();\n"],[1,"Success();\n    "],[0,"    });\n"],[1,"    }\n"],[0,"}\nfuncti"]],"start1":14432,"start2":14432,"length1":28,"length2":45},{"diffs":[[0," name\",\"\");\n"],[1,"    if(data.gallery) {\n    "],[0,"    function"]],"start1":14639,"start2":14639,"length1":24,"length2":51},{"diffs":[[0,"lerySuccess() {\n"],[1,"    "],[0,"    setTimeout(f"]],"start1":14697,"start2":14697,"length1":32,"length2":36},{"diffs":[[0,"out(function(){\n"],[1,"    "],[0,"\t\twindow.locatio"]],"start1":14728,"start2":14728,"length1":32,"length2":36},{"diffs":[[0,"allery;\n"],[1,"    "],[0,"\t}, 1000"]],"start1":14798,"start2":14798,"length1":16,"length2":20},{"diffs":[[0," \t}, 1000);\n    "],[-1,"}\n"],[1,"    }\n   "],[0,"    "],[1," "],[0,"$.ajax({\n       "]],"start1":14809,"start2":14809,"length1":38,"length2":46},{"diffs":[[0,"       $.ajax({\n"],[1,"    "],[0,"       type: 'PO"]],"start1":14832,"start2":14832,"length1":32,"length2":36},{"diffs":[[0,"ST',\n       "],[1,"  "],[1,"  "],[0,"url: '/' + d"]],"start1":14868,"start2":14868,"length1":24,"length2":28},{"diffs":[[0,"es/new',\n       "],[1,"    "],[0,"data: data,\n    "]],"start1":14916,"start2":14916,"length1":32,"length2":36},{"diffs":[[0,"a: data,\n       "],[1," "],[1,"   "],[0,"success: newGall"]],"start1":14939,"start2":14939,"length1":32,"length2":36},{"diffs":[[0,"s(data),\n       "],[1,"    "],[0,"dataType: 'json'"]],"start1":14984,"start2":14984,"length1":32,"length2":36},{"diffs":[[0,"ype: 'json'\n    "],[-1,"});"],[1,"    });\n    }"],[0,"\n}\nfunction dele"]],"start1":15009,"start2":15009,"length1":35,"length2":45},{"diffs":[[0,"llery\",\"\");\n"],[1,"    if(data.gallery) {\n    "],[0,"    function"]],"start1":15207,"start2":15207,"length1":24,"length2":51},{"diffs":[[0,"lerySuccess() {\n"],[1,"    "],[0,"    setTimeout(f"]],"start1":15268,"start2":15268,"length1":32,"length2":36},{"diffs":[[0,"out(function(){\n"],[1,"    "],[0,"\t\twindow.locatio"]],"start1":15299,"start2":15299,"length1":32,"length2":36},{"diffs":[[0,"/' + data.user;\n"],[1,"    "],[0,"\t}, 1000);\n    }"]],"start1":15345,"start2":15345,"length1":32,"length2":36},{"diffs":[[0,"    "],[1,"  "],[-1,"}\n"],[1,"  }\n   "],[0,"    "],[1," "],[0,"$.get(\n"],[1,"    "],[0,"    "]],"start1":15376,"start2":15376,"length1":21,"length2":33},{"diffs":[[0,"elete',\n"],[1,"    "],[0,"       f"]],"start1":15454,"start2":15454,"length1":16,"length2":20},{"diffs":[[0,"data) {\n"],[1,"    "],[0,"\tdeleteG"]],"start1":15482,"start2":15482,"length1":16,"length2":20},{"diffs":[[0,"cess();\n    "],[-1,"});"],[1,"    });\n    }"],[0,"\n}\nfunction "]],"start1":15511,"start2":15511,"length1":27,"length2":37}]],"length":16147,"saved":false}
{"ts":1348878521198,"patch":[[{"diffs":[[0,"sword\",\"\");\n"],[1,"    if(data.password) {\n    "],[0,"    $.ajax({"]],"start1":229,"start2":229,"length1":24,"length2":52},{"diffs":[[0,"$.ajax({\n       "],[1," "],[1,"   "],[0,"type: 'POST',\n  "]],"start1":273,"start2":273,"length1":32,"length2":36},{"diffs":[[0,"  type: 'POST',\n"],[1,"    "],[0,"       url: '/us"]],"start1":291,"start2":291,"length1":32,"length2":36},{"diffs":[[0,"/login',\n       "],[1," "],[1,"   "],[0,"data: data,\n    "]],"start1":335,"start2":335,"length1":32,"length2":36},{"diffs":[[0,"    data: data,\n"],[1,"    "],[0,"       success: "]],"start1":351,"start2":351,"length1":32,"length2":36},{"diffs":[[0,"ccess(),\n       "],[1,"    "],[0,"dataType: 'json'"]],"start1":394,"start2":394,"length1":32,"length2":36},{"diffs":[[0," 'json'\n    "],[-1,"});"],[1,"    });\n    }"],[0,"\n}\n\nfunction"]],"start1":423,"start2":423,"length1":27,"length2":37},{"diffs":[[0,"sword\",\"\");\n"],[1,"    if(data.password) {\n    "],[0,"    function"]],"start1":13808,"start2":13808,"length1":24,"length2":52},{"diffs":[[0,"Success() {\n    "],[1,"  "],[1,"  "],[0,"setTimeout(funct"]],"start1":13867,"start2":13867,"length1":32,"length2":36},{"diffs":[[0,"tion(){\n"],[1,"    "],[0,"\t\twindow"]],"start1":13902,"start2":13902,"length1":16,"length2":20},{"diffs":[[0,"a.user;\n"],[1,"    "],[0,"\t}, 1000"]],"start1":13948,"start2":13948,"length1":16,"length2":20},{"diffs":[[0," 1000);\n"],[1,"    "],[0,"    }\n"],[1,"    "],[0,"    $.aj"]],"start1":13963,"start2":13963,"length1":22,"length2":30},{"diffs":[[0,"$.ajax({\n       "],[1," "],[1,"   "],[0,"type: 'POST',\n  "]],"start1":13989,"start2":13989,"length1":32,"length2":36},{"diffs":[[0,"  type: 'POST',\n"],[1,"    "],[0,"       url: '/us"]],"start1":14007,"start2":14007,"length1":32,"length2":36},{"diffs":[[0,"ew',\n       "],[1,"   "],[1," "],[0,"data: data,\n"]],"start1":14053,"start2":14053,"length1":24,"length2":28},{"diffs":[[0,"data: data,\n"],[1,"    "],[0,"       succe"]],"start1":14069,"start2":14069,"length1":24,"length2":28},{"diffs":[[0,"ccess(),\n       "],[1,"    "],[0,"dataType: 'json'"]],"start1":14109,"start2":14109,"length1":32,"length2":36},{"diffs":[[0,"on'\n    "],[1," "],[-1,"});"],[1,"   });\n    }"],[0,"\n}\nfunct"]],"start1":14142,"start2":14142,"length1":19,"length2":29}]],"length":16283,"saved":false}
{"contributors":[],"silentsave":false,"ts":1348896428392,"patch":[[{"diffs":[[0,"me/' + data.user"],[1,".toLowerCase()"],[0,";\n    \t}, 1000);"]],"start1":13938,"start2":13938,"length1":32,"length2":46},{"diffs":[[0," '/' + data.user"],[1,".toLowerCase()"],[0," + '/' + data.ga"]],"start1":14917,"start2":14917,"length1":32,"length2":46},{"diffs":[[0,".gallery"],[1,".toLowerCase()"],[0,";\n    \t}"]],"start1":14960,"start2":14960,"length1":16,"length2":30},{"diffs":[[0," + data.user"],[1,".toLowerCase()"],[0," + '/galleri"]],"start1":15070,"start2":15070,"length1":24,"length2":38},{"diffs":[[0,"ata.user"],[1,".toLowerCase()"],[0,";\n    \t}"]],"start1":15543,"start2":15543,"length1":16,"length2":30},{"diffs":[[0,"ata.user"],[1,".toLowerCase()"],[0," + '/' +"]],"start1":15625,"start2":15625,"length1":16,"length2":30},{"diffs":[[0,".gallery"],[1,".toLowerCase()"],[0," + '/del"]],"start1":15660,"start2":15660,"length1":16,"length2":30}]],"length":16381,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349136407042,"patch":[[{"diffs":[[0," style=\""],[1,"border:1px solid white;"],[0,"z-index:"]],"start1":16110,"start2":16110,"length1":16,"length2":39}]],"length":16404,"saved":false}
{"ts":1349136473678,"patch":[[{"diffs":[[0,"bsolute;"],[1,"width:' + $(this).css('width') + ';height:' + $(this).css('height') + ';"],[0,"left:' +"]],"start1":16175,"start2":16175,"length1":16,"length2":88}]],"length":16476,"saved":false}
{"ts":1349136666359,"patch":[[{"diffs":[[0,"    });\n    }\n}\n"],[1,"function publishGallery() {\n    var data = new Object();\n    function publishGallerySuccess() {\n    setTimeout(function(){\n    \twindow.location = document.URL.split('#')[0].split('?')[0];\n    }, 1000);\n    }\n    $.ajax({\n       type: 'POST',\n       url: document.URL.split('#')[0].split('?')[0] + '/publish',\n       data: data,\n       success: publishGallerySuccess(),\n       dataType: 'json'\n    });\n}\n"],[0,"function drawIma"]],"start1":15757,"start2":15757,"length1":32,"length2":435}]],"length":16879,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349214384486,"patch":[[{"diffs":[[0,"'\n    });\n}\n"],[1,"function unpublishGallery() {\n    var data = new Object();\n    function unpublishGallerySuccess() {\n    setTimeout(function(){\n        window.location = document.URL.split('#')[0].split('?')[0];\n    }, 1000);\n    }\n    $.ajax({\n       type: 'POST',\n       url: document.URL.split('#')[0].split('?')[0] + '/unpublish',\n       data: data,\n       success: unpublishGallerySuccess(),\n       dataType: 'json'\n    });\n}\n"],[0,"function dra"]],"start1":16164,"start2":16164,"length1":24,"length2":438}]],"length":17293,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349896717372,"patch":[[{"diffs":[[0,"   });\n    }\n}\n\n"],[1,"function changePasswordSuccess() {\n    setTimeout(function(){window.location.reload(true);}, 1000);\n}\n    \nfunction changePassword() {\n    var data = new Object();\n    data.user = prompt(\"Enter username\",\"\");\n    data.password = prompt(\"Enter old password\",\"\");\n    data.newPassword = prompt(\"Enter new password\",\"\");\n    data.newPasswordConfirm = prompt(\"Confirm new password\",\"\");\n    if((data.password) && (data.newPassword==data.newPasswordConfirm)) {\n        $.ajax({\n           type: 'POST',\n           url: '/users/list/login',\n           data: data,\n           success: loginSuccess(),\n           dataType: 'json'\n        });\n    }\n}\n\n"],[0,"function logoutS"]],"start1":436,"start2":436,"length1":32,"length2":675}]],"length":17936,"saved":false}
{"ts":1349896731973,"patch":[[{"diffs":[[0,"       success: "],[-1,"login"],[1,"changePassword"],[0,"Success(),\n     "]],"start1":1014,"start2":1014,"length1":37,"length2":46}]],"length":17945,"saved":false}
{"ts":1349896801286,"patch":[[{"diffs":[[0,"l: '/users/list/"],[-1,"login"],[1,"password"],[0,"',\n           da"]],"start1":963,"start2":963,"length1":37,"length2":40}]],"length":17948,"saved":false}
{"ts":1349896949239,"patch":[[{"diffs":[[0,"on'\n        });\n"],[1,"    } else {\n        alert('You entered something incorrectly, please try again!');\n"],[0,"    }\n}\n\nfunctio"]],"start1":1082,"start2":1082,"length1":32,"length2":116}]],"length":18032,"saved":false}
{"ts":1349897273752,"patch":[[{"diffs":[[0,"on loginSuccess("],[-1,") {"],[1,"a, b, c) {\n    alert(a);\n    alert(b);\n    alert(c);"],[0,"\n    setTimeout("]],"start1":7,"start2":7,"length1":35,"length2":84},{"diffs":[[0,"s: loginSuccess("],[1,"a, b, c"],[0,"),\n           da"]],"start1":433,"start2":433,"length1":32,"length2":39}]],"length":18088,"saved":false}
{"ts":1349897422608,"patch":[[{"diffs":[[0,"Success("],[-1,"a, b, c"],[1,"data, textStatus"],[0,") {\n    "]],"start1":15,"start2":15,"length1":23,"length2":32},{"diffs":[[0,"  alert("],[1,"dat"],[0,"a);\n    "]],"start1":45,"start2":45,"length1":16,"length2":19},{"diffs":[[0,"ert("],[-1,"b);\n    alert(c"],[1,"textStatus"],[0,");\n "]],"start1":66,"start2":66,"length1":23,"length2":18},{"diffs":[[0,"ess("],[-1,"a, b, c"],[1,"data, testStatus"],[0,"),\n "]],"start1":452,"start2":452,"length1":15,"length2":24}]],"length":18104,"saved":false}
{"ts":1349897440602,"patch":[[{"diffs":[[0,"data, te"],[-1,"s"],[1,"x"],[0,"tStatus)"]],"start1":456,"start2":456,"length1":17,"length2":17}]],"length":18104,"saved":false}
{"ts":1349897470341,"patch":[[{"diffs":[[0,"ess(data"],[-1,", textStatus"],[0,") {\n    "]],"start1":19,"start2":19,"length1":28,"length2":16},{"diffs":[[0,"a);\n"],[-1,"    alert(textStatus);\n"],[0,"    "]],"start1":44,"start2":44,"length1":31,"length2":8},{"diffs":[[0,"data"],[-1,", textStatus"],[0,"),\n "]],"start1":421,"start2":421,"length1":20,"length2":8}]],"length":18057,"saved":false}
{"ts":1349897488521,"patch":[[{"diffs":[[0,"  alert("],[1,"JSON.stringify("],[0,"data)"],[1,")"],[0,";\n    se"]],"start1":33,"start2":33,"length1":21,"length2":37}]],"length":18073,"saved":false}
{"ts":1349897848092,"patch":[[{"diffs":[[0,"uccess: "],[-1,"loginSuccess(data)"],[1,"function(response, textStatus, jqXHR){\n               loginSuccess(response, textStatus, jqXHR);\n           }"],[0,",\n      "]],"start1":416,"start2":416,"length1":34,"length2":125}]],"length":18164,"saved":false}
{"ts":1349897909080,"patch":[[{"diffs":[[0,"ess("],[-1,"data) {\n    alert(JSON.stringify(data));"],[1,"response) {"],[0,"\n   "]],"start1":19,"start2":19,"length1":48,"length2":19},{"diffs":[[0,"response"],[-1,", textStatus, jqXHR"],[0,"){\n     "]],"start1":404,"start2":404,"length1":35,"length2":16},{"diffs":[[0,"onse"],[-1,", textStatus, jqXHR"],[0,");\n "]],"start1":447,"start2":447,"length1":27,"length2":8}]],"length":18097,"saved":false}
{"ts":1349897947362,"patch":[[{"diffs":[[0,"     },\n"],[1,"           error: function(jqXHR, textStatus, errorThrown){\n               alert(textStatus);\n           },\n"],[0,"        "]],"start1":460,"start2":460,"length1":16,"length2":124}]],"length":18205,"saved":false}
{"ts":1349897963489,"patch":[[{"diffs":[[0,"  alert("],[-1,"textStatus"],[1,"errorThrown"],[0,");\n     "]],"start1":541,"start2":541,"length1":26,"length2":27}]],"length":18206,"saved":false}
{"ts":1349897981304,"patch":[[{"diffs":[[0,"  alert("],[-1,"errorThrown"],[1,"jqXHR"],[0,");\n     "]],"start1":541,"start2":541,"length1":27,"length2":21}]],"length":18200,"saved":false}
{"ts":1349897995687,"patch":[[{"diffs":[[0,"ert("],[1,"JSON.stringify("],[0,"jqXHR)"],[1,")"],[0,";\n  "]],"start1":545,"start2":545,"length1":14,"length2":30}]],"length":18216,"saved":false}
{"ts":1349898052179,"patch":[[{"diffs":[[0,"uccess: "],[-1,"changePasswordSuccess()"],[1,"function(response){\n               changePasswordSuccess(response);\n           },\n           error: function(jqXHR, textStatus, errorThrown){\n               alert(JSON.stringify(jqXHR.responseText));\n           }"],[0,",\n      "]],"start1":1222,"start2":1222,"length1":39,"length2":228}]],"length":18418,"saved":false}
{"ts":1349899075545,"patch":[[{"diffs":[[0,"n signup"],[-1,""],[0,""],[1,"Success(user) {\n        setTimeout(function(){\n        \twindow.location = '/home/' + user;\n    \t}, 1000);\n}\nfunction signup"],[0,"() {\n   "]],"start1":14809,"start2":14809,"length1":16,"length2":139},{"diffs":[[0,"    "],[-1,"function signupSuccess() {\n        setTimeout(function(){\n    \t\twindow.location = '/home/' + "],[1,"$.ajax({\n           type: 'POST',\n           url: '/users/list/new',\n           data: data,\n           success: function(response){\n               signupSuccess("],[0,"data"]],"start1":15096,"start2":15096,"length1":101,"length2":169},{"diffs":[[0,"erCase()"],[1,")"],[0,";\n   "],[-1," \t}, 1000);\n"],[0,"        "]],"start1":15276,"start2":15276,"length1":33,"length2":22},{"diffs":[[0,"));\n           }"],[1,","],[0,"\n        $.ajax("]],"start1":15283,"start2":15283,"length1":32,"length2":33},{"diffs":[[0,"    "],[-1,"$.ajax({\n           type: 'POST',\n           url: '/users/list/new',\n           data: data,\n           success: signup"],[1,"   error: function(jqXHR, textStatus, errorThrown){\n               alert(JSON.stringify(jqXHR.responseText));\n           },\n           dataType: 'json'\n        });\n    }\n}\nfunction deleteUser"],[0,"Succ"]],"start1":15305,"start2":15305,"length1":126,"length2":199},{"diffs":[[0,"eteUserSuccess()"],[-1,","],[1," {"],[0,"\n           data"]],"start1":15493,"start2":15493,"length1":33,"length2":34},{"diffs":[[0,"    "],[-1,"   dataType: 'json'\n        });\n"],[1,"setTimeout(function(){\n        \twindow.location = '/';\n    \t}, 1000);\n    "],[0,"    }\n"],[-1,"}\n"],[0,"func"]],"start1":15516,"start2":15516,"length1":48,"length2":88},{"diffs":[[0,"    "],[-1,"function deleteUserSuccess() {\n        setTimeout("],[1,"$.get(\n           '/users/list/account/delete/' + data.user,\n           "],[0,"func"]],"start1":15778,"start2":15778,"length1":58,"length2":80},{"diffs":[[0,"ion("],[-1,")"],[1,"data) "],[0,"{\n    \t"],[-1,"\twindow.location = '/';\n    \t}, 1000);\n        }\n        $.get(\n           '/users/list/account/delete/' + data.user,\n           function(data) {\n    \tdeleteUserSuccess();\n        }"],[1,"        deleteUserSuccess();\n            }\n        );\n    }\n}\nfunction newGallerySuccess(user, gallery) {\n        setTimeout(function(){\n        \twindow.location = '/' + user + '/' + gallery;\n    \t}, 1000"],[0,");\n    "],[-1,"}\n"],[1,"    "],[0,"}\nfu"]],"start1":15859,"start2":15859,"length1":206,"length2":236},{"diffs":[[0,"    "],[-1,"function newGallerySuccess() {\n        setTimeout(function(){\n    \t\twindow.location = '/' + "],[1,"$.ajax({\n           type: 'POST',\n           url: '/' + data.user.toLowerCase() + '/galleries/new',\n           data: data,\n           success: function(response){\n               newGallerySuccess("],[0,"data"]],"start1":16300,"start2":16300,"length1":100,"length2":204},{"diffs":[[0,"oLowerCase()"],[-1," + '/' +"],[1,","],[0," data.galler"]],"start1":16511,"start2":16511,"length1":32,"length2":25},{"diffs":[[0,"se()"],[1,")"],[0,";\n    "],[-1,"\t}, 1000);\n"],[1," "],[0,"      "],[-1,"  "],[0,"}"],[1,","],[0,"\n   "]],"start1":16547,"start2":16547,"length1":34,"length2":24},{"diffs":[[0,"    "],[-1,"$.ajax({\n           type: 'POST',\n           url: '/' + data.user.toLowerCase() + '/galleries/new',\n           data: data,\n           success: new"],[1,"   error: function(jqXHR, textStatus, errorThrown){\n               alert(JSON.stringify(jqXHR.responseText));\n           },\n           dataType: 'json'\n        });\n    }\n}\nfunction delete"],[0,"Gall"]],"start1":16572,"start2":16572,"length1":154,"length2":195},{"diffs":[[0,"ess("],[-1,"data),"],[1,"user) {"],[0,"\n   "]],"start1":16774,"start2":16774,"length1":14,"length2":15},{"diffs":[[0,"    "],[-1,"   dataType: 'json'\n        }"],[1,"setTimeout(function(){\n        \twindow.location = '/home/' + user;\n    \t}, 1000"],[0,");\n    "],[-1,"}\n"],[1,"    "],[0,"}\nfu"]],"start1":16790,"start2":16790,"length1":46,"length2":98},{"diffs":[[0,") {\n"],[-1,"        function deleteGallerySuccess() {\n        setTimeout(function(){\n    \t\twindow.location = '/home/' + data.user.toLowerCase();\n    \t}, 1000);\n        }\n"],[0,"    "]],"start1":17083,"start2":17083,"length1":166,"length2":8},{"diffs":[[0," {\n    \t"],[1,"        "],[0,"deleteGa"]],"start1":17216,"start2":17216,"length1":16,"length2":24},{"diffs":[[0,"eGallerySuccess("],[1,"data.user.toLowerCase()"],[0,");\n        });\n "]],"start1":17237,"start2":17237,"length1":32,"length2":55},{"diffs":[[0,"    "],[-1,"});\n"],[0,"    }\n"],[-1,"}\nfunction publishGallery() {\n    var data = new Object("],[1,"        "],[0,");\n    "],[1,"}\n}\n"],[0,"func"]],"start1":17283,"start2":17283,"length1":81,"length2":33},{"diffs":[[0,"tion(){\n    "],[-1,"\t"],[1,"    "],[0,"window.locat"]],"start1":17366,"start2":17366,"length1":25,"length2":28},{"diffs":[[0,";\n    }, 1000);\n"],[-1,"    }"],[1,"}\nfunction publishGallery() {\n    var data = new Object();"],[0,"\n    $.ajax({\n  "]],"start1":17440,"start2":17440,"length1":37,"length2":90},{"diffs":[[0,"success:"],[1," function(response){\n              "],[0," publish"]],"start1":17642,"start2":17642,"length1":16,"length2":51},{"diffs":[[0,"ss()"],[-1,","],[1,";"],[0,"\n       "],[-1,"dataType: 'json'\n    });\n}\nfunction unpublishGallery() {"],[1,"    },\n        error: function(jqXHR, textStatus, errorThrown){\n           alert(JSON.stringify(jqXHR.responseText));\n        },"],[0,"\n    "],[-1,"var"],[1,"  "],[0," data"],[-1," = new Object();\n    "],[1,"Type: 'json'\n    });\n}\n"],[0,"func"]],"start1":17705,"start2":17705,"length1":107,"length2":180},{"diffs":[[0," 1000);\n"],[-1,"    }"],[1,"}\nfunction unpublishGallery() {\n    var data = new Object();"],[0,"\n    $.a"]],"start1":18019,"start2":18019,"length1":21,"length2":76},{"diffs":[[0,"ss: "],[-1,"unpublishGallerySuccess()"],[1,"function(response){\n               unpublishGallerySuccess();\n           },\n        error: function(jqXHR, textStatus, errorThrown){\n           alert(JSON.stringify(jqXHR.responseText));\n        }"],[0,",\n  "]],"start1":18222,"start2":18222,"length1":33,"length2":204}]],"length":19161,"saved":false}
{"ts":1349899186605,"patch":[[{"diffs":[[0,", errorThrown){\n"],[1,"               alert(textStatus);\n"],[0,"               a"]],"start1":512,"start2":512,"length1":32,"length2":66}]],"length":19195,"saved":false}
{"ts":1349899724783,"patch":[[{"diffs":[[0,"n){\n"],[-1,"               alert(textStatus);\n"],[0,"    "]],"start1":524,"start2":524,"length1":42,"length2":8}]],"length":19161,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349901658089,"patch":[[{"diffs":[[0,"fy(jqXHR"],[1,".responseText"],[0,"));\n    "]],"start1":561,"start2":561,"length1":16,"length2":29},{"diffs":[[0,"1]==\"mG\") {\n"],[1,"    "],[0,"\tvar element"]],"start1":6614,"start2":6614,"length1":24,"length2":28},{"diffs":[[0,"t(\"input\");\n"],[1,"    "],[0,"\telement.set"]],"start1":6666,"start2":6666,"length1":24,"length2":28},{"diffs":[[0,",\"button\");\n"],[1,"    "],[0,"\telement.set"]],"start1":6710,"start2":6710,"length1":24,"length2":28},{"diffs":[[0,"alue\",\"x\");\n"],[1,"    "],[0,"\telement.set"]],"start1":6750,"start2":6750,"length1":24,"length2":28},{"diffs":[[0,"his)\");\n"],[1,"    "],[0,"\telement"]],"start1":6823,"start2":6823,"length1":16,"length2":20},{"diffs":[[0,"his);};\n"],[1,"    "],[0,"\telement"]],"start1":6879,"start2":6879,"length1":16,"length2":20},{"diffs":[[0,"olute';\n"],[1,"    "],[0,"\telement"]],"start1":6921,"start2":6921,"length1":16,"length2":20},{"diffs":[[0," '0px';\n"],[1,"    "],[0,"\telement"]],"start1":6954,"start2":6954,"length1":16,"length2":20},{"diffs":[[0," '0px';\n"],[1,"    "],[0,"\tx[i].pa"]],"start1":6986,"start2":6986,"length1":16,"length2":20}]],"length":19197,"saved":false}
{"ts":1349901859855,"patch":[[{"diffs":[[0,"  );\n});"],[1,"\nfunction onResize() {\n    setTimeout(function(){\n        location.reload();\n    }, 500);\n}\nwindow.addEventListener('resize', onResize, false);"]],"start1":19189,"start2":19189,"length1":8,"length2":151}]],"length":19340,"saved":false}
{"ts":1349902042800,"patch":[[{"diffs":[[0," );\n});\n"],[1,"var timer;\n"],[0,"function"]],"start1":19190,"start2":19190,"length1":16,"length2":27},{"diffs":[[0,"onResize() {\n   "],[1," clearTimeout(timer);\n    timer ="],[0," setTimeout(func"]],"start1":19218,"start2":19218,"length1":32,"length2":65}]],"length":19384,"saved":false}
{"ts":1349902081746,"patch":[[{"diffs":[[0,"\n    }, "],[-1,"5"],[1,"3"],[0,"00);\n}\nw"]],"start1":19317,"start2":19317,"length1":17,"length2":17}]],"length":19384,"saved":false}
{"ts":1349902091303,"patch":[[{"diffs":[[0,"\n    }, "],[-1,"3"],[1,"5"],[0,"00);\n}\nw"]],"start1":19317,"start2":19317,"length1":17,"length2":17}]],"length":19384,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349974051577,"patch":[[{"diffs":[[0," );\n});\n"],[1,"//"],[0,"var time"]],"start1":19190,"start2":19190,"length1":16,"length2":18},{"diffs":[[0," timer;\n"],[1,"//"],[0,"function"]],"start1":19203,"start2":19203,"length1":16,"length2":18},{"diffs":[[0,"nResize() {\n"],[1,"//"],[0,"    clearTim"]],"start1":19223,"start2":19223,"length1":24,"length2":26},{"diffs":[[0,"timer);\n"],[1,"//"],[0,"    time"]],"start1":19254,"start2":19254,"length1":16,"length2":18},{"diffs":[[0,"out(function(){\n"],[1,"//"],[0,"        location"]],"start1":19283,"start2":19283,"length1":32,"length2":34},{"diffs":[[0,"n.reload();\n"],[1,"//"],[0,"    }, 500);"]],"start1":19316,"start2":19316,"length1":24,"length2":26},{"diffs":[[0,", 500);\n"],[-1,"}\n"],[1,"//}\n//"],[0,"window.a"]],"start1":19335,"start2":19335,"length1":18,"length2":22}]],"length":19400,"saved":false}
{"contributors":[],"silentsave":false,"ts":1350073975700,"patch":[[{"diffs":[[0,"   }\n\t } else {\n"],[1,"        var hiResImg = new Image();\n        hiResImg.src = el.src.substring(0,el.src.lastIndexOf('-')) + '-large' + el.src.substring(el.src.lastIndexOf('.'));\n        if(hiResImg.complete) {\n            if((document.getElementById(\"fullScreenImage\").style.visibility=='visible') && (document.getElementById(\"fullScreenImage\").src==el.src)) {\n                 document.getElementById(\"fullScreenImage\").src = hiResImg.src;\n            }\n        } else {\n    "],[0,"        document"]],"start1":8138,"start2":8138,"length1":32,"length2":489},{"diffs":[[0,"c = el.src;\n"],[1,"        }\n"],[0,"        var "]],"start1":8664,"start2":8664,"length1":24,"length2":34},{"diffs":[[0,"  }\n"],[-1,"       var hiResImg = new Image();\n       hiResImg.src = el.src.substring(0,el.src.lastIndexOf('-')) + '-large' + el.src.substring(el.src.lastIndexOf('.'));\n       if(hiResImg.complete) {\n           if((document.getElementById(\"fullScreenImage\").style.visibility=='visible') && (document.getElementById(\"fullScreenImage\").src==el.src)) {\n                document.getElementById(\"fullScreenImage\").src = hiResImg.src;\n           }\n       }\n"],[0,"    "]],"start1":10519,"start2":10519,"length1":447,"length2":8}]],"length":19428,"saved":false}
{"ts":1350074169572,"patch":[[{"diffs":[[0,"     if("],[1,"!"],[0,"hiResImg"]],"start1":8316,"start2":8316,"length1":16,"length2":17},{"diffs":[[0,"Img.complete) {\n"],[1,"            document.getElementById(\"fullScreenImage\").src = el.src;\n        } else {\n"],[0,"            if(("]],"start1":8330,"start2":8330,"length1":32,"length2":118},{"diffs":[[0,"  }\n"],[-1,"        } else {\n            document.getElementById(\"fullScreenImage\").src = el.src;\n"],[0,"    "]],"start1":8673,"start2":8673,"length1":94,"length2":8}]],"length":19429,"saved":false}
{"ts":1350074211947,"patch":[[{"diffs":[[0," = function() {\n"],[1,"           setTimeout(function() {\n    "],[0,"           if((d"]],"start1":10546,"start2":10546,"length1":32,"length2":71},{"diffs":[[0,"\n               "],[1,"    "],[0,"document.getElem"]],"start1":10750,"start2":10750,"length1":32,"length2":36},{"diffs":[[0,"src;\n           "],[-1,"}"],[1,"    }\n           }, 100);"],[0,"\n       }\n      "]],"start1":10828,"start2":10828,"length1":33,"length2":57}]],"length":19496,"saved":false}
{"contributors":[],"silentsave":false,"ts":1350084895022,"patch":[[{"diffs":[[0,"ion "],[-1,"login("],[1,"sendLogin(user, password"],[0,") {\n"]],"start1":112,"start2":112,"length1":14,"length2":32},{"diffs":[[0,"r = "],[-1,"prompt(\"Enter username\",\"\")"],[1,"user"],[0,";\n  "]],"start1":185,"start2":185,"length1":35,"length2":12},{"diffs":[[0,"a.password ="],[-1," prompt(\"Enter"],[0," password\",\""]],"start1":202,"start2":202,"length1":38,"length2":24},{"diffs":[[0,"sword = password"],[-1,"\",\"\")"],[0,";\n    if(data.pa"]],"start1":207,"start2":207,"length1":37,"length2":32}]],"length":19472,"saved":false}
{"ts":1350085061944,"patch":[[{"diffs":[[0,"password) {\n"],[1,"    alert(user);\n    alert(password);\n"],[0,"    var data"]],"start1":132,"start2":132,"length1":24,"length2":62}]],"length":19510,"saved":false}
{"ts":1350085513101,"patch":[[{"diffs":[[0,"ion "],[-1,"sendL"],[1,"l"],[0,"ogin"]],"start1":112,"start2":112,"length1":13,"length2":9}]],"length":19506,"saved":false}
{"ts":1350085633672,"patch":[[{"diffs":[[0,") {\n"],[-1,"    alert(user);\n    alert(password);\n"],[0,"    "]],"start1":136,"start2":136,"length1":46,"length2":8}]],"length":19468,"saved":false}
{"ts":1350085648986,"patch":[[{"diffs":[[0,"  \nfunction "],[-1,"l"],[1,"submitL"],[0,"ogin(user, p"]],"start1":104,"start2":104,"length1":25,"length2":31}]],"length":19474,"saved":false}
{"ts":1350085739050,"patch":[[{"diffs":[[0,"   });\n    }\n}\n\n"],[1,"function login() {\n    $(\"\n        <form id='login'>\n            <fieldset>\n                <label for='name'>Username</label>\n                <input type='text' name='name' id='name' class='text ui-widget-content ui-corner-all' /><br/>\n                <label for='email'>Password</label>\n                <input type='password' name='password' id='password' value='' class='text ui-widget-content ui-corner-all' />\n                <input type='submit' style='visibility:hidden;' />\n            </fieldset>\n        </form>\n    \").dialog({\n        title: \"Login\",\n    \tmodal:true,\n    \theight:200,\n    \twidth:300,\n    \tbuttons: {\n    \t\t\"Log in\": function() {\n    \t\t\tsubmitLogin($(\"#name\").val(), $(\"#password\").val());\n    \t\t\t$(this).dialog( \"destroy\" );\n    \t\t\t$(this).remove();\n    \t\t},\n    \t\tCancel: function() {\n    \t\t\t$(this).dialog( \"destroy\" );\n    \t\t\t$(this).remove();\n    \t\t},\n    \t},\n    \tclose: function() {\n    \t\t$(this).dialog( \"destroy\" );\n    \t\t$(this).remove();\n    \t}\n    });\n    $(\"#login\").submit(function(e){\n    \te.preventDefault();\n    \tsubmitLogin($(\"#name\").val(), $(\"#password\").val());\n    \t$(this).dialog( \"destroy\" );\n    \t$(this).remove();\n    });\n}\n\n"],[0,"function changeP"]],"start1":611,"start2":611,"length1":32,"length2":1210}]],"length":20652,"saved":false}
{"ts":1350085813058,"patch":[[{"diffs":[[0,"le: "],[-1,"\""],[1,"'"],[0,"Login"],[-1,"\""],[1,"'"],[0,",\n  "]],"start1":1176,"start2":1176,"length1":15,"length2":15}]],"length":20652,"saved":false}
{"ts":1350085964323,"patch":[[{"diffs":[[0,"\n    $(\""],[1,"\\"],[0,"\n       "]],"start1":645,"start2":645,"length1":16,"length2":17},{"diffs":[[0,"'login'>"],[1,"\\"],[0,"\n       "]],"start1":672,"start2":672,"length1":16,"length2":17},{"diffs":[[0,"      <fieldset>"],[1,"\\"],[0,"\n               "]],"start1":688,"start2":688,"length1":32,"length2":33},{"diffs":[[0,"Username</label>"],[1,"\\"],[0,"\n               "]],"start1":740,"start2":740,"length1":32,"length2":33},{"diffs":[[0," /><br/>"],[1,"\\"],[0,"\n       "]],"start1":859,"start2":859,"length1":16,"length2":17},{"diffs":[[0,"</label>"],[1,"\\"],[0,"\n       "]],"start1":912,"start2":912,"length1":16,"length2":17},{"diffs":[[0,"rner-all' />"],[1,"\\"],[0,"\n           "]],"start1":1035,"start2":1035,"length1":24,"length2":25},{"diffs":[[0,"den;' />"],[1,"\\"],[0,"\n       "]],"start1":1107,"start2":1107,"length1":16,"length2":17},{"diffs":[[0,"ieldset>"],[1,"\\"],[0,"\n       "]],"start1":1132,"start2":1132,"length1":16,"length2":17},{"diffs":[[0," </form>"],[1,"\\"],[0,"\n    \")."]],"start1":1149,"start2":1149,"length1":16,"length2":17},{"diffs":[[0,"le: "],[-1,"'"],[1,"\""],[0,"Login"],[-1,"'"],[1,"\""],[0,",\n  "]],"start1":1186,"start2":1186,"length1":15,"length2":15}]],"length":20662,"saved":false}
{"ts":1350086132986,"patch":[[{"diffs":[[0,"on s"],[-1,"ignup("],[1,"ubmitSignup(user, password"],[0,") {\n"]],"start1":16229,"start2":16229,"length1":14,"length2":34},{"diffs":[[0,"r = "],[-1,"prompt(\"Enter username\",\"\")"],[1,"user"],[0,";\n  "]],"start1":16304,"start2":16304,"length1":35,"length2":12},{"diffs":[[0,"a.password ="],[-1," prompt(\"Enter"],[0," password\",\""]],"start1":16321,"start2":16321,"length1":38,"length2":24},{"diffs":[[0,"sword = password"],[-1,"\",\"\")"],[0,";\n    if(data.pa"]],"start1":16326,"start2":16326,"length1":37,"length2":32},{"diffs":[[0,"       });\n    }"],[-1,""],[0,""],[1,"\n}\nfunction signup() {\n    $(\"\\\n        <form id='login'>\\\n            <fieldset>\\\n                <label for='name'>Username</label>\\\n                <input type='text' name='name' id='name' class='text ui-widget-content ui-corner-all' /><br/>\\\n                <label for='email'>Password</label>\\\n                <input type='password' name='password' id='password' value='' class='text ui-widget-content ui-corner-all' />\\\n                <input type='submit' style='visibility:hidden;' />\\\n            </fieldset>\\\n        </form>\\\n    \").dialog({\n        title: \"Login\",\n        modal:true,\n    \theight:200,\n    \twidth:300,\n    \tbuttons: {\n    \t\t\"Log in\": function() {\n    \t\t\tsubmitSignup($(\"#name\").val(), $(\"#password\").val());\n    \t\t\t$(this).dialog( \"destroy\" );\n    \t\t\t$(this).remove();\n    \t\t},\n    \t\tCancel: function() {\n    \t\t\t$(this).dialog( \"destroy\" );\n    \t\t\t$(this).remove();\n    \t\t},\n    \t},\n    \tclose: function() {\n    \t\t$(this).dialog( \"destroy\" );\n    \t\t$(this).remove();\n    \t}\n    });\n    $(\"#login\").submit(function(e){\n    \te.preventDefault();\n    \tsubmitSignup($(\"#name\").val(), $(\"#password\").val());\n    \t$(this).dialog( \"destroy\" );\n    \t$(this).remove();\n    });"],[0,"\n}\nfunction dele"]],"start1":16738,"start2":16738,"length1":32,"length2":1225}]],"length":21833,"saved":false}
{"ts":1350086307720,"patch":[[{"diffs":[[0,"}\n    \nfunction "],[-1,"c"],[1,"submitC"],[0,"hangePassword() "]],"start1":1915,"start2":1915,"length1":33,"length2":39},{"diffs":[[0,"assword("],[1,"user, password, newPassword, newPasswordConfirm"],[0,") {\n    "]],"start1":1944,"start2":1944,"length1":16,"length2":63},{"diffs":[[0,"r = "],[-1,"prompt(\"Enter username\",\"\")"],[1,"user"],[0,";\n  "]],"start1":2044,"start2":2044,"length1":35,"length2":12},{"diffs":[[0,"rd ="],[-1," prompt(\"Enter old"],[0," pas"]],"start1":2069,"start2":2069,"length1":26,"length2":8},{"diffs":[[0,"sword = password"],[-1,"\",\"\")"],[0,";\n    data.newPa"]],"start1":2066,"start2":2066,"length1":37,"length2":32},{"diffs":[[0,"rd ="],[-1," prompt(\"Enter"],[0," new"],[-1," p"],[1,"P"],[0,"assword"],[-1,"\",\"\")"],[0,";\n  "]],"start1":2102,"start2":2102,"length1":40,"length2":20},{"diffs":[[0,"rm ="],[-1," prompt(\"Confirm"],[0," new"],[-1," p"],[1,"P"],[0,"assword"],[-1,"\",\"\")"],[1,"Confirm"],[0,";\n  "]],"start1":2145,"start2":2145,"length1":42,"length2":27},{"diffs":[[0," again!');\n    }"],[-1,""],[0,""],[1,"\n}\n\nfunction changePassword() {\n    $(\"\\\n        <form id='login'>\\\n            <fieldset>\\\n                <label for='name'>Username</label>\\\n                <input type='text' name='name' id='name' class='text ui-widget-content ui-corner-all' /><br/>\\\n                <label for='email'>Password</label>\\\n                <input type='password' name='password' id='password' value='' class='text ui-widget-content ui-corner-all' />\\\n                <label for='email'>New Password</label>\\\n                <input type='password' name='newPassword' id='newPassword' value='' class='text ui-widget-content ui-corner-all' />\\\n                <label for='email'>Confirm New Password</label>\\\n                <input type='password' name='newPasswordConfirm' id='newPasswordConfirm' value='' class='text ui-widget-content ui-corner-all' />\\\n                <input type='submit' style='visibility:hidden;' />\\\n            </fieldset>\\\n        </form>\\\n    \").dialog({\n        title: \"Login\",\n        modal:true,\n    \theight:200,\n    \twidth:300,\n    \tbuttons: {\n    \t\t\"Log in\": function() {\n    \t\t\tsubmitChangePassword($(\"#name\").val(), $(\"#password\").val(), $(\"#newPassword\").val());\n    \t\t\t$(this).dialog( \"destroy\" );\n    \t\t\t$(this).remove();\n    \t\t},\n    \t\tCancel: function() {\n    \t\t\t$(this).dialog( \"destroy\" );\n    \t\t\t$(this).remove();\n    \t\t},\n    \t},\n    \tclose: function() {\n    \t\t$(this).dialog( \"destroy\" );\n    \t\t$(this).remove();\n    \t}\n    });\n    $(\"#login\").submit(function(e){\n    \te.preventDefault();\n    \tsubmitChangePassword($(\"#name\").val(), $(\"#password\").val(), $(\"#newPassword\").val());\n    \t$(this).dialog( \"destroy\" );\n    \t$(this).remove();\n    });"],[0,"\n}\n\nfunction log"]],"start1":2695,"start2":2695,"length1":32,"length2":1702}]],"length":23475,"saved":false}
{"ts":1350086421970,"patch":[[{"diffs":[[0,"Password\").val()"],[1,", $(\"#newPasswordCommit\").val()"],[0,");\n    \t\t\t$(this"]],"start1":3871,"start2":3871,"length1":32,"length2":63},{"diffs":[[0,"Password\").val()"],[1,", $(\"#newPasswordCommit\").val()"],[0,");\n    \t$(this)."]],"start1":4329,"start2":4329,"length1":32,"length2":63},{"diffs":[[0," }\nfunction "],[-1,"d"],[1,"submitD"],[0,"eleteAccount"]],"start1":19770,"start2":19770,"length1":25,"length2":31},{"diffs":[[0,"Account("],[1,"user, password"],[0,") {\n    "]],"start1":19794,"start2":19794,"length1":16,"length2":30},{"diffs":[[0,"\n        );\n"],[-1,""],[0,"    }\n}\n"],[1,"function deleteAccount() {\n    $(\"\\\n        <form id='login'>\\\n            <fieldset>\\\n                <label for='name'>Username</label>\\\n                <input type='text' name='name' id='name' class='text ui-widget-content ui-corner-all' /><br/>\\\n                <label for='email'>Password</label>\\\n                <input type='password' name='password' id='password' value='' class='text ui-widget-content ui-corner-all' />\\\n                <input type='submit' style='visibility:hidden;' />\\\n            </fieldset>\\\n        </form>\\\n    \").dialog({\n        title: \"Login\",\n        modal:true,\n        height:200,\n    \twidth:300,\n    \tbuttons: {\n    \t\t\"Log in\": function() {\n    \t\t\tsubmitDeleteAccount($(\"#name\").val(), $(\"#password\").val());\n    \t\t\t$(this).dialog( \"destroy\" );\n    \t\t\t$(this).remove();\n    \t\t},\n    \t\tCancel: function() {\n    \t\t\t$(this).dialog( \"destroy\" );\n    \t\t\t$(this).remove();\n    \t\t},\n    \t},\n    \tclose: function() {\n    \t\t$(this).dialog( \"destroy\" );\n    \t\t$(this).remove();\n    \t}\n    });\n    $(\"#login\").submit(function(e){\n    \te.preventDefault();\n    \tsubmitDeleteAccount($(\"#name\").val(), $(\"#password\").val());\n    \t$(this).dialog( \"destroy\" );\n    \t$(this).remove();\n    });\n}\n"],[0,"function new"]],"start1":20111,"start2":20111,"length1":32,"length2":1249}]],"length":24774,"saved":false}
{"ts":1350086443101,"patch":[[{"diffs":[[0,"ue,\n    \theight:"],[-1,"2"],[1,"3"],[0,"00,\n    \twidth:3"]],"start1":3714,"start2":3714,"length1":33,"length2":33}]],"length":24774,"saved":false}
{"ts":1350086455599,"patch":[[{"diffs":[[0,"00,\n    \twidth:3"],[-1,"0"],[1,"5"],[0,"0,\n    \tbuttons:"]],"start1":3731,"start2":3731,"length1":33,"length2":33}]],"length":24774,"saved":false}
{"ts":1350086481330,"patch":[[{"diffs":[[0," ui-corner-all' "],[1,"/><br"],[0,"/>\\\n            "]],"start1":3126,"start2":3126,"length1":32,"length2":37},{"diffs":[[0," ui-corner-all' "],[1,"/><br"],[0,"/>\\\n            "]],"start1":3321,"start2":3321,"length1":32,"length2":37}]],"length":24784,"saved":false}
{"ts":1350086491708,"patch":[[{"diffs":[[0,"\theight:"],[-1,"3"],[1,"2"],[0,"00,\n    "]],"start1":3732,"start2":3732,"length1":17,"length2":17}]],"length":24784,"saved":false}
{"ts":1350086498412,"patch":[[{"diffs":[[0,"e,\n    \theight:2"],[-1,"0"],[1,"2"],[0,"0,\n    \twidth:35"]],"start1":3725,"start2":3725,"length1":33,"length2":33}]],"length":24784,"saved":false}
{"ts":1350086581337,"patch":[[{"diffs":[[0,"    <label for='"],[-1,"email"],[1,"password"],[0,"'>Password</labe"]],"start1":881,"start2":881,"length1":37,"length2":40},{"diffs":[[0,"    <label for='"],[-1,"email"],[1,"password"],[0,"'>Password</labe"]],"start1":2981,"start2":2981,"length1":37,"length2":40},{"diffs":[[0,"el for='"],[-1,"email"],[1,"newPassword"],[0,"'>New Pa"]],"start1":3177,"start2":3177,"length1":21,"length2":27},{"diffs":[[0,"el for='"],[-1,"email"],[1,"newPasswordConfirm"],[0,"'>Confir"]],"start1":3378,"start2":3378,"length1":21,"length2":34},{"diffs":[[0,"(\"#newPasswordCo"],[-1,"mmit"],[1,"nfirm"],[0,"\").val());\n    \t"]],"start1":3925,"start2":3925,"length1":36,"length2":37},{"diffs":[[0,"rdCo"],[-1,"mmit"],[1,"nfirm"],[0,"\").v"]],"start1":4396,"start2":4396,"length1":12,"length2":13},{"diffs":[[0,"    <label for='"],[-1,"email"],[1,"password"],[0,"'>Password</labe"]],"start1":18753,"start2":18753,"length1":37,"length2":40},{"diffs":[[0,"or='"],[-1,"email"],[1,"password"],[0,"'>Pa"]],"start1":20445,"start2":20445,"length1":13,"length2":16}]],"length":24817,"saved":false}
{"ts":1350086612783,"patch":[[{"diffs":[[0,"r-all' /><br/>\\\n"],[1,"                <label for='email'>Email</label>\\\n                <input type='text' name='email' id='email' class='text ui-widget-content ui-corner-all' /><br/>\\\n"],[0,"                "]],"start1":18725,"start2":18725,"length1":32,"length2":195}]],"length":24980,"saved":false}
{"ts":1350086736567,"patch":[[{"diffs":[[0,"wordSuccess("],[-1,"response"],[0,");\n         "]],"start1":2416,"start2":2416,"length1":32,"length2":24}]],"length":24972,"saved":false}
{"ts":1350087677662,"patch":[[{"diffs":[[0,"Signup(user,"],[1," email,"],[0," password) {"]],"start1":17971,"start2":17971,"length1":24,"length2":31},{"diffs":[[0,"ta.user = user;\n"],[1,"    data.email = email;\n"],[0,"    data.passwor"]],"start1":18038,"start2":18038,"length1":32,"length2":56},{"diffs":[[0,"(\"#name\").val(),"],[1," $(\"#email\").val(),"],[0," $(\"#password\")."]],"start1":19379,"start2":19379,"length1":32,"length2":51},{"diffs":[[0,"(\"#name\").val(),"],[1," $(\"#email\").val(),"],[0," $(\"#password\")."]],"start1":19792,"start2":19792,"length1":32,"length2":51}]],"length":25041,"saved":false}
{"ts":1350087947220,"patch":[[{"diffs":[[0,"        title: \""],[-1,"Login"],[1,"Change Password"],[0,"\",\n        modal"]],"start1":3701,"start2":3701,"length1":37,"length2":47},{"diffs":[[0,"ttons: {\n    \t\t\""],[-1,"Log in"],[1,"Change Password"],[0,"\": function() {\n"]],"start1":3795,"start2":3795,"length1":38,"length2":47},{"diffs":[[0,"        title: \""],[-1,"Login"],[1,"Sign Up"],[0,"\",\n        modal"]],"start1":19255,"start2":19255,"length1":37,"length2":39},{"diffs":[[0,"ttons: {\n    \t\t\""],[-1,"Log in"],[1,"Sign Up"],[0,"\": function() {\n"]],"start1":19341,"start2":19341,"length1":38,"length2":39},{"diffs":[[0,"    title: \""],[-1,"Login"],[1,"Delete Account"],[0,"\",\n        m"]],"start1":20980,"start2":20980,"length1":29,"length2":38},{"diffs":[[0,"ttons: {\n    \t\t\""],[-1,"Log in"],[1,"Delete Account"],[0,"\": function() {\n"]],"start1":21072,"start2":21072,"length1":38,"length2":46}]],"length":25080,"saved":false}
{"ts":1350088029178,"patch":[[{"diffs":[[0,"sword\",\"\");\n"],[1,"    if(confirm(\"Are you sure? This will delete your account!\")) {\n    "],[0,"    if(data."]],"start1":20217,"start2":20217,"length1":24,"length2":94},{"diffs":[[0,"word) {\n        "],[1,"    "],[0,"$.get(\n"],[1,"    "],[0,"           '/use"]],"start1":20315,"start2":20315,"length1":39,"length2":47},{"diffs":[[0,"ser,\n           "],[1,"    "],[0,"function(data) {"]],"start1":20395,"start2":20395,"length1":32,"length2":36},{"diffs":[[0,"unction(data) {\n"],[1,"    "],[0,"    \t        del"]],"start1":20416,"start2":20416,"length1":32,"length2":36},{"diffs":[[0,"();\n            "],[1,"    "],[0,"}\n        );\n   "]],"start1":20466,"start2":20466,"length1":32,"length2":36},{"diffs":[[0,"      }\n        "],[1," "],[-1,");"],[1,"   );\n        }"],[0,"\n    }\n}\nfunctio"]],"start1":20480,"start2":20480,"length1":34,"length2":48}]],"length":25184,"saved":false}
{"ts":1350088276707,"patch":[[{"diffs":[[0,"r = "],[-1,"prompt(\"Enter username\",\"\")"],[1,"user"],[0,";\n  "]],"start1":20147,"start2":20147,"length1":35,"length2":12},{"diffs":[[0,"ssword ="],[-1," prompt(\"Enter"],[0," passwor"]],"start1":20168,"start2":20168,"length1":30,"length2":16},{"diffs":[[0,"password"],[-1,"\",\"\")"],[0,";\n    if"]],"start1":20177,"start2":20177,"length1":21,"length2":16}]],"length":25142,"saved":false}
