{"ts":1354921398674,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!DOCTYPE HTML>\n<!--[if lt IE 7]>      <html class=\"no-js lt-ie9 lt-ie8 lt-ie7\"> <![endif]-->\n<!--[if IE 7]>         <html class=\"no-js lt-ie9 lt-ie8\"> <![endif]-->\n<!--[if IE 8]>         <html class=\"no-js lt-ie9\"> <![endif]-->\n<!--[if gt IE 8]><!--> <html class=\"no-js\"> <!--<![endif]-->\n<head>\n<meta charset=\"utf-8\">\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n<title>Photo (Beta)</title>\n<meta name=\"description\" content=\"\">\n<meta http-equiv=\"content-language\" content=\"en\" />\n<meta name=\"viewport\" content=\"width=device-width\">\n<link rel=\"stylesheet\" href=\"/css/bootstrap.css\">\n<link rel=\"stylesheet\" href=\"/css/bootstrap-responsive.min.css\">\n<link rel=\"stylesheet\" href=\"http://code.jquery.com/ui/1.9.0/themes/base/jquery-ui.css\" />\n<script src=\"http://code.jquery.com/jquery-1.8.2.js\"></script>\n<script src=\"http://code.jquery.com/ui/1.9.0/jquery-ui.js\"></script>\n<script src=\"/js/modernizr-2.6.1-respond-1.1.0.min.js\"></script>\n<!--<script src=\"/js/jquery.ui.touch-punch.min.js\"></script>-->\n<!--Import JQuery.cookie.js-->\n<script src=\"/js/jquery.cookie.js\"></script>\n    \t<meta name=\"viewport\" content=\"width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;\"/>\n\t\t<style type=\"text/css\">\n\t\t\t*\n\t\t\t{\n\t\t\t\tcolor: #444;\n\t\t\t\t/*font-family: Monospace;*/\n\t\t\t\t/*font-size: 12px;*/\n\t\t\t}\n\t\t\t\n\t\t\tbody\n\t\t\t{\n\t\t\t\tmargin: 0px;\n\t\t\t\toverflow: scroll;\n\t\t\t}\n\t\t\t\n\t\t\tselect\n\t\t\t{\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tfont-size: 11px;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t\t\n\t\t\thr\n\t\t\t{\n\t\t\t\tborder: 0;\n\t\t\t\theight: 1px;\n\t\t\t\tbackground-color: #ccc;\n\t\t\t\tmargin: 20px 0px;\n\t\t\t}\n\t\t\t\n\t\t\t.gui\n\t\t\t{\n\t\t\t\tcolor: black;\n\t\t\t\twidth: 500px;\n\t\t\t\tbackground-color: gray;\n\t\t\t\t//border-bottom: 1px solid #ddd;\n\t\t\t\t//padding: 5px 10px;\n\t\t\t\ttext-align: center;\n\t\t\t\t//text-transform: uppercase;\n\t\t\t\tline-height: 28px;\n                font-size: 1.3em;\n\t\t\t\tcursor: default;\n                opacity:0.95;\n                z-index:13000;\n                    -moz-box-shadow: 1px 1px 25px #999;\n                \t-webkit-box-shadow: 1px 1px 25px #999;\n                    box-shadow: 1px 1px 25px #999;\n\t\t\t}\n\t\t\t\n\t\t\t.button\n\t\t\t{\n\t\t\t\tpadding: 2px;\n\t\t\t\tcursor: pointer;\n                font-size:1.5em;\n\t\t\t}\n\t\t\t\n\t\t\t.key\n\t\t\t{\n\t\t\t\tpadding: 0px 8px;\n\t\t\t\tmargin-left: 1px;\n\t\t\t\tbackground-color: #eee;\n\t\t\t}\n            .ui-wrapper {\n                opacity: 1;\n            }\n            .ui-wrapper:hover {\n                opacity: 1;\n                /*Reflection*/ \n                /*-webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(.7, transparent), to(rgba(0,0,0,0.4)));   */\n                /*Glow*/ \n                -webkit-box-shadow: 0px 0px 5px rgba(255,255,255,0.8); -moz-box-shadow: 0px 0px 5px rgba(255,255,255,0.8); box-shadow: 0px 0px 5px rgba(255,255,255,0.8); \n            }\n            img[alt] {\n                font-size: 2em;\n            }\n            .no-hover {\n                opacity: 1;  \n                -webkit-box-shadow: 0px 0px 0px; -moz-box-shadow: 0px 0px 0px; box-shadow: 0px 0px 0px;\n            }\n            .no-hover:hover {\n                opacity: 1;  \n                -webkit-box-shadow: 0px 0px 0px; -moz-box-shadow: 0px 0px 0px; box-shadow: 0px 0px 0px;\n            }\n            .ui-widget-overlay {\n               background: #111111;\n               opacity: .80;\n               filter: Alpha(Opacity=80);\n            }\n            .string { color: green; }\n            .number { color: dark#BDBDBD; }\n            .boolean { color: #BDBDBD; }\n            .null { color: magenta; }\n            .key { color: red; }\n.drag {position: absolute;}\n//img {\n//    -moz-box-shadow: 1px 1px 12px #999;\n//\t-webkit-box-shadow: 1px 1px 12px #999;\n//        box-shadow: 1px 1px 12px #999;\n//        }\n//img:hover {\n//\t-moz-box-shadow: 1px 1px 24px #999;\n//\t-webkit-box-shadow: 1px 1px 24px #999;\n//        box-shadow: 1px 1px 24px #999;\n//}\n.toolbar {\nbottom:0px;\nleft:-10%;\nwidth:110%;\nheight:25px;\nbackground-color:gray; \nopacity:0.95;\nposition:fixed;\nz-index:13000;\n\t-moz-box-shadow: 1px 1px 25px #999;\n\t-webkit-box-shadow: 1px 1px 25px #999;\n        box-shadow: 1px 1px 25px #999;\n}\n.titlebar {\nvisibility:hidden;\ntop:0px;\nleft:-10%;\nwidth:110%;\nheight:25px;\nbackground-color:gray; \nopacity:0.95;\nposition:fixed;\n/*font-family:Arial;*/\nfont-size:16px;\nz-index:5000;\n\t-moz-box-shadow: 1px 1px 25px #999;\n\t-webkit-box-shadow: 1px 1px 25px #999;\n        box-shadow: 1px 1px 25px #999;\n}\n\t\t</style>\n<script src=\"/js/functions.js\"></script>\n<script type=\"text/javascript\">\nfunction deleteImage(el) {\n    saveToLocalStorage();\n\tsetPageScroll();\n  var myForm = document.createElement(\"form\");\n  myForm.method=\"post\" ;\n  myForm.action = \"/<%=data.params.user + '/' + data.params.gallery%>/photos/delete\";\n    var myInput = document.createElement(\"input\") ;\n    myInput.setAttribute(\"name\", \"file\") ;\n    myInput.setAttribute(\"value\", el.parentNode.firstChild.id);\n    myForm.appendChild(myInput) ;\n    var myInput5 = document.createElement(\"input\") ;\n    myInput5.setAttribute(\"name\", \"deleteIsOn\") ;\n    myInput5.setAttribute(\"value\", \"false\");\n    myForm.appendChild(myInput5) ;\n  document.body.appendChild(myForm) ;\n  myForm.submit() ;\n  document.body.removeChild(myForm) ;\n}\nfunction saveCoords(dd) {\n    saveToLocalStorage();\n    setPageScroll();\n    \n    var data = new Object();\n    data.side = parseInt($(dd).css('left'))*(1366/getWindowSize()[0]);\n    data.top = parseInt($(dd).css('top'))*(1366/getWindowSize()[0]);\n    data.image = $(dd).find('img')[0].src.split(\"/\").pop().replace('-small','').replace('-medium','').replace('-large','');\n    data.width = parseInt($(dd).css('width'))*(1366/getWindowSize()[0]);\n    data.height = parseInt($(dd).css('height'))*(1366/getWindowSize()[0]);\n    data.deleteIsOn = '';\n    data.z = $(dd).css('z-index');\n    $.ajax({\n      type: 'POST',\n      url: '/<%=data.params.user + '/' + data.params.gallery%>/upsert',\n      data: data,\n      success: success(),\n      dataType: 'json'\n    });\n}\nfunction updateLink(el) {\n    saveToLocalStorage();\n    setPageScroll();\n  var myForm = document.createElement(\"form\");\n  myForm.method=\"post\" ;\n  myForm.action = \"/<%=data.params.user + '/' + data.params.gallery%>/updateLink\";\n    var myInput = document.createElement(\"input\") ;\n    myInput.setAttribute(\"name\", \"file\") ;\n    myInput.setAttribute(\"value\", el.parentNode.firstChild.id);\n    myForm.appendChild(myInput) ;\n    var myInput5 = document.createElement(\"input\") ;\n    myInput5.setAttribute(\"name\", \"link\") ;\n    myInput5.setAttribute(\"value\", prompt(\"Link\", \"\"));\n    myForm.appendChild(myInput5) ;\n  document.body.appendChild(myForm) ;\n  if(myInput5.getAttribute(\"value\").length>3) {\n        myForm.submit();\n        document.body.removeChild(myForm);\n  }\n}\nfunction goHome() {\n  saveToLocalStorage();\n  var myForm = document.createElement(\"form\");\n  myForm.method=\"get\" ;\n  myForm.action = '/home/users';\n  document.body.appendChild(myForm);\n  myForm.submit();\n  document.body.removeChild(myForm);\n}\n    $(function() {\n        $( \".drag\" ).resizable({\n            aspectRatio: true,\n            stop: function(event) {\n                var elements = document.getElementsByClassName(\"ui-wrapper\");\n                var highest_index = 0;\n                for (var i = 0; i < elements.length - 1; i++) {\n                    if (parseInt(elements[i].style.zIndex) > highest_index) {\n                        if(elements[i]!=event.target)\n                            highest_index = parseInt(elements[i].style.zIndex);\n                    }\n                }\n                event.target.style.zIndex = highest_index + 1;\n                saveCoords(event.target);\n            }\n        });\n        $(\".ui-wrapper\").draggable({\n            zIndex: 15000,\n            stop: function(event) {\n                var elements = document.getElementsByClassName(\"ui-wrapper\");\n                var highest_index = 0;\n                for (var i = 0; i < elements.length - 1; i++) {\n                    if (parseInt(elements[i].style.zIndex) > highest_index) {\n                        if(elements[i]!=event.target)\n                            highest_index = parseInt(elements[i].style.zIndex);\n                    }\n                }\n                event.target.style.zIndex = highest_index + 1;\n                saveCoords(event.target);\n            }\n        }).click(function(event) {\n            fullScreen(event.target);\n        });\n    });\n    // Attach JQuery.click() functions to buttons\n    $(document).ready(function(){\n        $(\"#showBgToolbar\").click(function () {\n            document.getElementById('bgToolbar').style.visibility = 'visible';\n            \n        });\n    });\n    var user = '<%=data.user%>';\n</script>\n</head>\n\n<body oncontextmenu=\"return false;\" >\n\n        <div class=\"navbar navbar-inverse navbar-fixed-top\">\n            <div class=\"navbar-inner\">\n                <div class=\"container\">\n                    <a class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".nav-collapse\">\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                    </a>\n                    <a class=\"brand\" href=\"/\">Photo (Beta)</a>\n                    <div class=\"nav-collapse collapse\">\n                        <ul class=\"nav\">\n                            <li><a href=\"/home/users\">Users</a></li>\n                            <li><a href=\"/<%=data.params.user%>\">My Galleries</a></li>\n                            <li class=\"active\"><a href=\"#\"><script>document.write(window.location.toString().split('/').pop().toTitleCase())</script></a></li>\n                            <% if(data.loggedin) { %>\n                                <li><a href=\"#\" onclick=\"showUpload();\">Upload Images</a></li>\n                                <li class=\"dropdown\">\n                                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">Image &amp; Background<b class=\"caret\"></b></a>\n                                    <ul class=\"dropdown-menu\">\n                                        <li><a href=\"#\" onclick=\"showDelete();\">Delete an Image</a></li>\n                                        <li><a href=\"#\" onclick=\"showLinkUpdate();\">Set Image Link</a></li>\n                                        <li><a href=\"#\" onclick=\"drawImage();\">Draw an Image</a></li>\n                                        <li><a href=\"#\" id=\"showBgToolbar\">Background Tools</a></li>\n                                    </ul>\n                                </li>\n                                <li class=\"dropdown\">\n                                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">Publishing<b class=\"caret\"></b></a>\n                                    <ul class=\"dropdown-menu\">\n                                        <li><a href=\"#\" onclick=\"publishGallery();\">Publish Gallery</a></li>\n                                        <li><a href=\"#\" onclick=\"unpublishGallery();\">Make Gallery Private</a></li>\n                                        <li><a href=\"#\" onclick=\"newGallery();\">New Gallery</a></li>\n                                        <li><a href=\"#\" onclick=\"deleteGallery();\">Delete Gallery</a></li>\n                                    </ul>\n                                </li>\n                                <li class=\"dropdown\">\n                                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">My Account<b class=\"caret\"></b></a>\n                                    <ul class=\"dropdown-menu\">\n                                        <li><a href=\"#\" onclick=\"changePassword();\">Change Password</a></li>\n                                        <li><a href=\"#\" onclick=\"deleteAccount();\">Delete Your Account</a></li>\n                                    </ul>\n                                </li>\n                            <% } %>\n                        </ul>\n                        <% if(data.loggedin) { %>\n                            <form class=\"navbar-form pull-right\" action=\"/users/list/logout\" method=\"POST\">\n                            <input type=\"hidden\" name=\"form\" value=\"true\">\n                            <button type=\"submit\" class=\"btn btn-small btn-primary\">Log Out</button>\n                        </form>\n                        <% } else { %>\n                        <form class=\"navbar-form pull-right\" action=\"/users/list/login\" method=\"POST\">\n                            <input class=\"span2\" type=\"text\" name=\"user\" placeholder=\"Username\">\n                            <input class=\"span2\" type=\"password\" name=\"password\" placeholder=\"Password\">\n                            <input type=\"hidden\" name=\"form\" value=\"true\">\n                            <button type=\"submit\" class=\"btn btn-primary\">Sign in</button>\n                        </form>\n                        <% } %>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    <!-- Background drawing code here -->\n    \t<script type=\"text/javascript\" src=\"/js/brushes/circles.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/brushes/chrome.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/brushes/fur.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/brushes/grid.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/brushes/longfur.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/brushes/ribbon.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/brushes/shaded.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/brushes/simple.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/brushes/sketchy.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/brushes/squares.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/brushes/web.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/colorutils.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/colorselector.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/palette.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"/js/menu.js\"></script>\n\t\t<!--<script type=\"text/javascript\" src=\"js/about.js\"></script>-->\t\n\t\t<script type=\"text/javascript\" src=\"/js/main.js\"></script>\n\t\t<script type=\"text/javascript\">\n\t\tcontext.clearRect(0,0,canvas.width,canvas.height);\n\t\t\tvar img     = new Image();\n\t    \timg.onload  = function() {\n\t        \tcontext.drawImage(img, 0, 0, canvas.width, (img.height/img.width)*canvas.width);\n\t    \t}\n            img.crossOrigin = '';\n\t    \timg.src     = \"<%=data.storage + data.params.user + '-' + data.params.gallery%>-bg.png\";\n\t\t</script>\n\n<!-- The old menu bar at the bottom \n  <div align=\"center\" class=\"toolbar\" id=\"toolbar\" style=\"z-index:13000;\">\n   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \n  <input type=\"button\" onclick=\"goHome();\" value=\"Home\" />\n  <input type=\"button\" onclick=\"logout();\" value=\"Log Out\" />\n  <input type=\"button\" onclick=\"showUpload();\" value=\"Upload new images\" />\n  <input type=\"button\" onclick=\"drawImage();\" value=\"Draw image\" />\n  <input type=\"button\" id=\"adminDeleteButton\" onclick=\"showDelete();\" value=\"Delete image\" />\n  <input type=\"button\" id=\"updateLinkButton\" onclick=\"showLinkUpdate();\" value=\"Update Image Link\" />\n  <input type=\"button\" id=\"publishGallery\" onclick=\"publishGallery();\" value=\"Publish Gallery\" />\n  <input type=\"button\" id=\"unpublishGallery\" onclick=\"unpublishGallery();\" value=\"Unpublish Gallery\" />\n  </div>\n-->\n\n<!--<script type=\"text/javascript\" src=\"/js/wz_dragdrop.js\"></script>-->\n\n\n<table width=\"100%\" height=\"100%\">\n  <tr>\n    <td align=\"center\" valign=\"middle\">\n\t\t<div name=\"upload\" id=\"upload\" style=\"position:fixed;visibility:hidden;left:30%;top:40%;width:40%;z-index:12000;font-family:Arial;font-size:18px;\" align=\"center\">\n\t\t<form name=\"upload\" action=\"/<%=data.params.user + '/' + data.params.gallery%>/photos/new\" enctype=\"multipart/form-data\" method=\"post\">\n\t\t<b>Select files to upload:</b><br/>\n\t\t<input type=\"file\" name=\"image\" multiple/>\n\t\t<input type=\"submit\" name=\"Upload\" value=\"Upload\"/><input type=\"button\" onclick=\"hideUpload();\" value=\"Cancel\" />\n\t\t</form></div><br/>\t\t\n\t</td>\n  </tr>\n  <!--\n  <tr>\n    <td align=\"center\" valign=\"middle\">\n\t\t<div name=\"uploadLink\" id=\"uploadLink\" style=\"position:fixed;visibility:hidden;left:30%;top:40%;width:40%;z-index:12000;font-family:Arial;font-size:18px;\" align=\"center\">\n\t\t<form name=\"uploadLink\" action=\"/<%=data.params.user + '/' + data.params.gallery%>/photos/newlink\" enctype=\"multipart/form-data\" method=\"post\">\n\t\tLink or Javascript: <textarea name=\"link\" rows=\"10\" cols=\"50\"></textarea><br/>\n\t\t<b>Select file to upload:</b><br/>\n\t\t<input type=\"file\" name=\"image\" /><br/>\n\t\t<input type=\"submit\" name=\"uploadLink\" value=\"Upload file\"/><input type=\"button\" onclick=\"hideLinkUpload();\" value=\"Cancel\" />\n\t\t</form></div><br/>\t\t\n\t</td>\n  </tr>\n  -->\n</table>\n\n<div name=\"overlay\" id=\"overlay\" style=\"left:-50px;top:-50px;position:fixed;visibility:hidden;width:150%;height:150%;z-index:11000;background-color:gray;opacity:0.95;\" ></div>\n\n<% var il = \"\";\nfor(var i in data.images) { \n    if(data.images[i].link.length>2) {\n          %>\n    \t  <div style=\"visibility:hidden;\" id=\"<%=data.images[i].source.split('/').pop()%>link\"><%=data.images[i].link%></div>\n    \t  <%\n    }\n    if((data.images[i].width<400) && (data.images[i].height<400)) {\n%>\n<img src=\"<%=data.images[i].source.replace('.jpg', '-small.jpg')%>\" style=\"z-index:<%=data.images[i].z%>;width:<%=Math.round(data.images[i].width)%>px;height:<%=Math.round(data.images[i].height)%>px;left:<%=Math.round(data.images[i].left)%>px;top:<%=Math.round(data.images[i].top)%>px;\" class=\"drag\" id=\"<%=data.images[i].source.split('/').pop()%>\" />\n<% \n} else if((data.images[i].width<900) && (data.images[i].height<900)) {\n%>\n<img src=\"<%=data.images[i].source.replace('.jpg', '-medium.jpg')%>\" style=\"z-index:<%=data.images[i].z%>;width:<%=Math.round(data.images[i].width)%>px;height:<%=Math.round(data.images[i].height)%>px;left:<%=Math.round(data.images[i].left)%>px;top:<%=Math.round(data.images[i].top)%>px;\" class=\"drag\" id=\"<%=data.images[i].source.split('/').pop()%>\" />\n<%\n} else {\n%>\n<img src=\"<%=data.images[i].source.replace('.jpg', '-large.jpg')%>\" style=\"z-index:<%=data.images[i].z%>;width:<%=Math.round(data.images[i].width)%>px;height:<%=Math.round(data.images[i].height)%>px;left:<%=Math.round(data.images[i].left)%>px;top:<%=Math.round(data.images[i].top)%>px;\" class=\"drag\" id=\"<%=data.images[i].source.split('/').pop()%>\" />\n<%\n}\nil += data.images[i].source.split('/').pop() + '\",\"';\n} %>\n\n<%\n    if((data.params.user=='home') && (data.params.gallery!='users')) {\n        var c = 0; %>ha<%\n        for(var i in data.galleries) {\n            var source = data.galleries[i][0];\n            if(source) source = source.source;\n            else source = \"\";\n            c++;\n%>\n            <a href=\"<%='/' + data.params.u + '/' + i%>\">\n            <!--\n                <img title=\"<%=i%>\" src=\"<%=source.split('.')[0]+'-small.'+source.split('.')[1]%>\" style=\"z-index:10;position:absolute;left:<%=300+250*(c % 3)%>px;top:<%=150+150*Math.floor((c-1)/3)%>px;width:210px;height:140px;\" />\n            -->\n                <img class=\"gridImg\" alt=\"<%=i%>\" src=\"<%=source.split('.')[0]+'-small.'+source.split('.')[1]%>\" style=\"border:2px solid white;z-index:10;position:absolute;left:<%=300+250*(c % 3)%>px;top:<%=150+150*Math.floor((c-1)/3)%>px;width:210px;height:140px;\" />\n            </a>\n<%\n        }\n    }\n%>\n\n<%\n    if((data.params.user=='home') && (data.params.gallery=='users')) {\n        var c = 0;\n        for(var i in data.users) {\n            c++;\n%>\n            <a href=\"<%='/home/' + data.users[i]%>\">\n                <img alt=\"<%=data.users[i]%>\" src=\"\" style=\"border:2px solid white;z-index:10;position:absolute;left:<%=300+250*(c % 3)%>px;top:<%=150+150*Math.floor((c-1)/3)%>px;width:210px;height:140px;\" />\n            </a>\n<%\n        }\n    }\n%>\n\n<script type=\"text/javascript\">\nfunction setDraggables() {\n\tSET_DHTML(SCALABLE, SCROLL, \"<%- il.substring(0, il.length-3)%>\");\n}\nresizeFirst();\n//setDraggables(); \npageScroll();\nif(false) showDelete();\nfunction setHover() {\n\tx = document.getElementsByTagName(\"img\");\n\tfor (i=0;i<x.length;i++)\n\t{\n\t\tif(x[i].name.split(\"jpgdivNI\")[1]==\"mG\") {\n\t\t\tx[i].onmouseover = function() {fullScreenButton(this);};\n\t\t\tx[i].onmouseout = function() {deleteFullScreenButton(this);};\n\t\t}\n\t}\n}\n//setHover();\n</script>\n\n\n<div id=\"fullScreenImg\" style=\"top:4%;visibility:hidden;z-index:12000;position:fixed;\">\n<img class=\"no-hover\" id =\"fullScreenImage\" style=\"top:0px;left:0px;position:absolute;z-index:12001;visibility:hidden;\" src=\"\" />\n<img class=\"no-hover\" id=\"closeFullscreenButton\" src=\"/images/close.png\" style=\"cursor:pointer;visibility:hidden;position:absolute;left:-40px;top:0px;z-index:10000;\" onclick=\"closeFullscreen();\"/>\n</div>\n<!--<img src=\"/images/upArrow.png\" style=\"visibility:hidden\" />\n<img src=\"/images/downArrow.png\" style=\"visibility:hidden\" />-->\n\n<script src=\"/js/bootstrap.min.js\"></script>\n\n<!--Google Analytics stuff here -->\n    <script type=\"text/javascript\">\n    \n      var _gaq = _gaq || [];\n      _gaq.push(['_setAccount', 'UA-33468041-1']);\n      _gaq.push(['_trackPageview']);\n    \n      (function() {\n        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\n        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n      })();\n    \n</script>\n</body>\n</html>\n"]],"start1":0,"start2":0,"length1":0,"length2":21593}]],"length":21593}
{"contributors":[],"silentsave":false,"ts":1354921527849,"patch":[[{"diffs":[[0,"\" src=\"/"],[-1,"image"],[1,"png"],[0,"s/close."]],"start1":20685,"start2":20685,"length1":21,"length2":19},{"diffs":[[0,"g src=\"/"],[-1,"image"],[1,"png"],[0,"s/downAr"]],"start1":20907,"start2":20907,"length1":21,"length2":19}]],"length":21589,"saved":false}
{"contributors":[],"silentsave":false,"ts":1354926356643,"patch":[[{"diffs":[[0,"\n<title>"],[-1,"Pho"],[1,"Table"],[0,"to"],[1,"p"],[0," (Beta)<"]],"start1":382,"start2":382,"length1":21,"length2":24}]],"length":21592,"saved":false}
{"ts":1354926516053,"patch":[[{"diffs":[[0,"\"/\">"],[-1,"Pho"],[1,"Table"],[0,"to"],[1,"p"],[0," (Be"]],"start1":9252,"start2":9252,"length1":13,"length2":16}]],"length":21595,"saved":false}
{"ts":1354926663622,"patch":[[{"diffs":[[0,"=\"image\""],[1," class=\"btn btn-large btn-primary\""],[0," multipl"]],"start1":15971,"start2":15971,"length1":16,"length2":50},{"diffs":[[0,"\"Upload\""],[1," class=\"btn btn-large btn-success\" "],[0,"/><input"]],"start1":16068,"start2":16068,"length1":16,"length2":51},{"diffs":[[0,"\" value=\"Cancel\""],[1," class=\"btn btn-large btn-primary\""],[0," />\n\t\t</form></d"]],"start1":16156,"start2":16156,"length1":32,"length2":66}]],"length":21698,"saved":false}
{"ts":1354926680629,"patch":[[{"diffs":[[0,"btn btn-"],[-1,"large btn-primary"],[1,"input"],[0,"\" multip"]],"start1":15987,"start2":15987,"length1":33,"length2":21}]],"length":21686,"saved":false}
{"ts":1354926855285,"patch":[[{"diffs":[[0,"ge\" "],[-1,"class=\"btn btn-input\" multiple"],[1,"style=\"display:none;\" multiple/>\n        <input type=\"text\" class=\"input-large\" "],[0,"/>\n\t"]],"start1":15976,"start2":15976,"length1":38,"length2":88}]],"length":21736,"saved":false}
{"ts":1354926953522,"patch":[[{"diffs":[[0,"rge\" />\n"],[1,"        <a class=\"btn\" onclick=\"$('input[id=upload]').click();\">Browse</a>\n"],[0,"\t\t<input"]],"start1":16055,"start2":16055,"length1":16,"length2":91}]],"length":21811,"saved":false}
{"ts":1354926971625,"patch":[[{"diffs":[[0,"=\"post\">\n\t\t<"],[-1,"b"],[1,"h4"],[0,">Select file"]],"start1":15899,"start2":15899,"length1":25,"length2":26},{"diffs":[[0,"les to upload:</"],[-1,"b"],[1,"h4"],[0,"><br/>\n\t\t<input "]],"start1":15923,"start2":15923,"length1":33,"length2":34}]],"length":21813,"saved":false}
{"ts":1354926981527,"patch":[[{"diffs":[[0,"t\">\n\t\t<h"],[-1,"4"],[1,"3"],[0,">Select "]],"start1":15904,"start2":15904,"length1":17,"length2":17},{"diffs":[[0,"load:</h"],[-1,"4"],[1,"3"],[0,"><br/>\n\t"]],"start1":15932,"start2":15932,"length1":17,"length2":17}]],"length":21813,"saved":false}
{"ts":1354927023810,"patch":[[{"diffs":[[0,"nput type=\"file\""],[1," id=\"imageupload\""],[0," name=\"image\" st"]],"start1":15952,"start2":15952,"length1":32,"length2":49},{"diffs":[[0,"nput[id="],[1,"image"],[0,"upload]'"]],"start1":16118,"start2":16118,"length1":16,"length2":21}]],"length":21835,"saved":false}
{"ts":1354927046983,"patch":[[{"diffs":[[0,":</h3><br/>\n"],[1,"        <div class=\"input-append\">\n"],[0,"\t\t<input typ"]],"start1":15936,"start2":15936,"length1":24,"length2":59},{"diffs":[[0,"wse</a>\n"],[1,"        </div>\n"],[0,"\t\t<input"]],"start1":16189,"start2":16189,"length1":16,"length2":31}]],"length":21885,"saved":false}
{"ts":1354927064843,"patch":[[{"diffs":[[0,"ut-large\" />"],[1," &nbsp;"],[0,"\n        <a "]],"start1":16104,"start2":16104,"length1":24,"length2":31}]],"length":21892,"saved":false}
{"ts":1354927085912,"patch":[[{"diffs":[[0,"arge\" />"],[-1," &nbsp;"],[0,"\n       "]],"start1":16108,"start2":16108,"length1":23,"length2":16}]],"length":21885,"saved":false}
{"ts":1354927097046,"patch":[[{"diffs":[[0,">Select "],[-1,"fil"],[1,"imag"],[0,"es to up"]],"start1":15913,"start2":15913,"length1":19,"length2":20}]],"length":21886,"saved":false}
{"ts":1354927158222,"patch":[[{"diffs":[[0,"s=\"input"],[-1,"-large"],[0,"\" />\n   "]],"start1":16099,"start2":16099,"length1":22,"length2":16}]],"length":21880,"saved":false}
{"ts":1354927182073,"patch":[[{"diffs":[[0,"s=\"input"],[1,"-large"],[0,"\" />\n   "]],"start1":16099,"start2":16099,"length1":16,"length2":22}]],"length":21886,"saved":false}
{"ts":1354927199941,"patch":[[{"diffs":[[0,"rge btn-"],[-1,"primary"],[1,"error"],[0,"\" />\n\t\t<"]],"start1":16378,"start2":16378,"length1":23,"length2":21}]],"length":21884,"saved":false}
{"ts":1354927454517,"patch":[[{"diffs":[[0,"});\n    });\n"],[1,"    $(function(){\n        $(\"#imageupload\").change(function(){\n            $(this).parents(\"#imageuploadform\").submit();\n        });\n    });\n"],[0,"    var user"]],"start1":8679,"start2":8679,"length1":24,"length2":165},{"diffs":[[0,"#\" onclick=\""],[-1,"showUpload"],[1,"$('input[id=imageupload]').click"],[0,"();\">Upload "]],"start1":9928,"start2":9928,"length1":34,"length2":56},{"diffs":[[0,"\"upload\""],[1," id=\"imageuploadform\""],[0," action="]],"start1":15946,"start2":15946,"length1":16,"length2":37},{"diffs":[[0," </div>\n\t\t<input"],[1," id=\"imagesubmit\""],[0," type=\"submit\" n"]],"start1":16389,"start2":16389,"length1":32,"length2":49}]],"length":22085,"saved":false}
{"ts":1354927511116,"patch":[[{"diffs":[[0,"ge\" "],[-1,"style=\"display:none;\" multiple/>\n        <input type=\"text\" class=\"input-large\" />\n        <a class=\"btn\" onclick=\"$('input[id=imageupload]').click();\">Browse</a>\n        </div"],[1,"multiple/"],[0,">\n\t\t"]],"start1":16215,"start2":16215,"length1":184,"length2":17}]],"length":21918,"saved":false}
{"ts":1354927558236,"patch":[[{"diffs":[[0,"dropdown-menu\">\n"],[1,"                                        <li><a href=\"#\" onclick=\"$('input[id=imageupload]').click();\">Upload Images</a></li>\n"],[0,"                "]],"start1":10244,"start2":10244,"length1":32,"length2":157}]],"length":22043,"saved":false}
{"ts":1354930609924,"patch":[[{"diffs":[[0,"\" />-->\n"],[1,"<div class=\"reveal-modal\" id=\"signupmodal\">\n    <form id='login' align='center'>\n        <input class=\"field span3 input\" title=\"Username\" value=\"Username\" type=\"text\"\n        name=\"name\" id=\"name\" onkeydown=\"if (event.keyCode == 13){event.preventDefault();  $('#signupsubmit').click()}\"\n        />\n        <br/>\n        <input class=\"field span3 input\" title=\"Email\" value=\"Email\" type=\"text\"\n        name=\"email\" id=\"email\" onkeydown=\"if (event.keyCode == 13){event.preventDefault();  $('#signupsubmit').click()}\"\n        />\n        <br/>\n        <input class=\"field span3 input\" title=\"Password\" value=\"Password\" type=\"text\"\n        name=\"password\" id=\"password\" onkeydown=\"if (event.keyCode == 13){event.preventDefault();  $('#signupsubmit').click()}\"\n        />\n        <br/>\n        <input onclick=\"$('#signupmodal').trigger('reveal:close');\" class=\"span1 btn btn-large btn-danger\"\n        value=\"Cancel\" />\n        <input type='submit' id=\"signupsubmit\" class=\"span2 btn btn-large btn-success\"\n        value=\"Sign Up\" />\n    </form>\n</div>\n<div class=\"reveal-modal\" id=\"newgallerymodal\">\n    <form id='newgallery' align='center'>\n        <input class=\"field span3 input\" title=\"Gallery Title\" value=\"Gallery Title\"\n        type=\"text\" name=\"newgalleryname\" id=\"newgalleryname\" onkeydown=\"if (event.keyCode == 13){event.preventDefault();  $('#newgallerysubmit').click()}\"\n        />\n        <br/>\n        <input onclick=\"$('#newgallerymodal').trigger('reveal:close');\" class=\"span1 btn btn-large btn-danger\"\n        value=\"Cancel\" />\n        <input type='submit' id=\"newgallerysubmit\" class=\"span2 btn btn-large btn-success\"\n        value=\"Create Gallery\" />\n    </form>\n</div>\n<div class=\"reveal-modal\" id=\"deletegallerymodal\">\n    <form id='deletegallery' align='center'>\n        <input class=\"field span3 input\" title=\"Gallery Title\" value=\"Gallery Title\"\n        type=\"text\" name=\"deletegalleryname\" id=\"deletegalleryname\" onkeydown=\"if (event.keyCode == 13){event.preventDefault();  $('#newgallerysubmit').click()}\"\n        />\n        <br/>\n        <input onclick=\"$('#newgallerymodal').trigger('reveal:close');\" class=\"span1 btn btn-large btn-danger\"\n        value=\"Cancel\" />\n        <input type='submit' id=\"deletegallerysubmit\" class=\"span2 btn btn-large btn-success\"\n        value=\"Delete Gallery\" />\n    </form>\n</div>\n        "],[0,"\n<script"]],"start1":21413,"start2":21413,"length1":16,"length2":2360}]],"length":24387,"saved":false}
{"ts":1354930612648,"patch":[[{"diffs":[[0,"\" />-->\n"],[1,"        \n        "],[0,"<div cla"]],"start1":21413,"start2":21413,"length1":16,"length2":33},{"diffs":[[0,"=\"signupmodal\">\n"],[1,"        "],[0,"    <form id='lo"]],"start1":21466,"start2":21466,"length1":32,"length2":40},{"diffs":[[0,"align='center'>\n"],[1,"        "],[0,"        <input c"]],"start1":21511,"start2":21511,"length1":32,"length2":40},{"diffs":[[0," type=\"text\""],[-1,"\n       "],[0," name=\"name\""]],"start1":21609,"start2":21609,"length1":32,"length2":24},{"diffs":[[0,"').click()}\""],[-1,"\n        "],[1,"/><br"],[0,"/>\n        <"]],"start1":21721,"start2":21721,"length1":33,"length2":29},{"diffs":[[0,"/><br/>\n        "],[-1,"<br/>\n"],[0,"        <input c"]],"start1":21733,"start2":21733,"length1":38,"length2":32},{"diffs":[[0," type=\"text\""],[-1,"\n       "],[0," name=\"email"]],"start1":21817,"start2":21817,"length1":32,"length2":24},{"diffs":[[0,"').click()}\""],[-1,"\n        "],[1,"/><br"],[0,"/>\n        <"]],"start1":21931,"start2":21931,"length1":33,"length2":29},{"diffs":[[0,"/><br/>\n        "],[-1,"<br/>\n"],[0,"        <input c"]],"start1":21943,"start2":21943,"length1":38,"length2":32},{"diffs":[[0,"e=\"text\""],[-1,"\n       "],[0," name=\"p"]],"start1":22037,"start2":22037,"length1":24,"length2":16},{"diffs":[[0,"').click()}\""],[-1,"\n        "],[1,"/><br"],[0,"/>\n        <"]],"start1":22153,"start2":22153,"length1":33,"length2":29},{"diffs":[[0,"/><br/>\n        "],[-1,"<br/>\n"],[0,"        <input o"]],"start1":22165,"start2":22165,"length1":38,"length2":32},{"diffs":[[0," btn-danger\""],[-1,"\n       "],[0," value=\"Canc"]],"start1":22275,"start2":22275,"length1":32,"length2":24},{"diffs":[[0,"\" value=\"Cancel\""],[-1," "],[0,"/>\n"],[1,"        "],[0,"        <input t"]],"start1":22286,"start2":22286,"length1":36,"length2":43},{"diffs":[[0,"btn-success\""],[-1,"\n       "],[0," value=\"Sign"]],"start1":22387,"start2":22387,"length1":32,"length2":24},{"diffs":[[0,"Sign Up\""],[-1," "],[0,"/>\n"],[1,"        "],[0,"    </fo"]],"start1":22407,"start2":22407,"length1":20,"length2":27},{"diffs":[[0,"        </form>\n"],[-1,"</div>\n"],[1,"        </div>\n        \n        "],[0,"<div class=\"reve"]],"start1":22422,"start2":22422,"length1":39,"length2":64},{"diffs":[[0,"wgallerymodal\">\n"],[1,"        "],[0,"    <form id='ne"]],"start1":22502,"start2":22502,"length1":32,"length2":40},{"diffs":[[0,"enter'>\n        "],[1,"  "],[1,"      "],[0,"<input class=\"fi"]],"start1":22560,"start2":22560,"length1":32,"length2":40},{"diffs":[[0,"llery Title\""],[-1,"\n       "],[0," type=\"text\""]],"start1":22648,"start2":22648,"length1":32,"length2":24},{"diffs":[[0,"').click()}\""],[-1,"\n        "],[1,"/><br"],[0,"/>\n        <"]],"start1":22796,"start2":22796,"length1":33,"length2":29},{"diffs":[[0,"/><br/>\n        "],[-1,"<br/>\n"],[0,"        <input o"]],"start1":22808,"start2":22808,"length1":38,"length2":32},{"diffs":[[0," btn-danger\""],[-1,"\n       "],[0," value=\"Canc"]],"start1":22922,"start2":22922,"length1":32,"length2":24},{"diffs":[[0,"\" value=\"Cancel\""],[-1," "],[0,"/>\n        <inpu"]],"start1":22933,"start2":22933,"length1":33,"length2":32},{"diffs":[[0,"ncel\"/>\n        "],[1,"    "],[1,"    "],[0,"<input type='sub"]],"start1":22944,"start2":22944,"length1":32,"length2":40},{"diffs":[[0,"btn-success\""],[-1,"\n       "],[0," value=\"Crea"]],"start1":23038,"start2":23038,"length1":32,"length2":24},{"diffs":[[0,"\"Create Gallery\""],[-1," "],[0,"/>\n"],[1,"        "],[0,"    </form>\n</di"]],"start1":23057,"start2":23057,"length1":36,"length2":43},{"diffs":[[0,"</form>\n"],[-1,"</div>\n"],[1,"        </div>\n        \n        "],[0,"<div cla"]],"start1":23088,"start2":23088,"length1":23,"length2":48},{"diffs":[[0,"lerymodal\">\n"],[1,"        "],[0,"    <form id"]],"start1":23167,"start2":23167,"length1":24,"length2":32},{"diffs":[[0,"align='center'>\n"],[1,"        "],[0,"        <input c"]],"start1":23216,"start2":23216,"length1":32,"length2":40},{"diffs":[[0,"y Title\""],[-1,"\n       "],[0," type=\"t"]],"start1":23316,"start2":23316,"length1":24,"length2":16},{"diffs":[[0,"lick()}\""],[-1,"\n        "],[1,"/><br"],[0,"/>\n     "]],"start1":23470,"start2":23470,"length1":25,"length2":21},{"diffs":[[0,"        "],[-1,"<br/>\n"],[0,"        "]],"start1":23486,"start2":23486,"length1":22,"length2":16},{"diffs":[[0,"-danger\""],[-1,"\n       "],[0," value=\""]],"start1":23596,"start2":23596,"length1":24,"length2":16},{"diffs":[[0,"\"Cancel\""],[-1," "],[0,"/>\n"],[1,"        "],[0,"        "]],"start1":23611,"start2":23611,"length1":20,"length2":27},{"diffs":[[0,"success\""],[-1,"\n       "],[0," value=\""]],"start1":23715,"start2":23715,"length1":24,"length2":16},{"diffs":[[0,"ery\""],[-1," "],[0,"/>\n    "],[-1,"</form>\n</div"],[1,"        </form"],[0,">\n  "]],"start1":23742,"start2":23742,"length1":29,"length2":29},{"diffs":[[0,"        "],[1,"</div>\n"],[0,"\n<script"]],"start1":23769,"start2":23769,"length1":16,"length2":23}]],"length":24406,"saved":false}
{"ts":1354930639948,"patch":[[{"diffs":[[0,"2.js\"></script>\n"],[1,"<link rel=\"stylesheet\" href=\"/css/reveal.css\">\n<script src=\"/js/jquery.reveal.js\" type=\"text/javascript\"></script>\n"],[0,"<script src=\"htt"]],"start1":808,"start2":808,"length1":32,"length2":147}]],"length":24521,"saved":false}
