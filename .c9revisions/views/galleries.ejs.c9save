{"ts":1351536553790,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!DOCTYPE html>\n<!--[if lt IE 7]>      <html class=\"no-js lt-ie9 lt-ie8 lt-ie7\"> <![endif]-->\n<!--[if IE 7]>         <html class=\"no-js lt-ie9 lt-ie8\"> <![endif]-->\n<!--[if IE 8]>         <html class=\"no-js lt-ie9\"> <![endif]-->\n<!--[if gt IE 8]><!--> <html class=\"no-js\"> <!--<![endif]-->\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n        <title>Photo (Beta)</title>\n        <meta name=\"description\" content=\"\">\n        <meta http-equiv=\"content-language\" content=\"en\" />\n        <meta name=\"viewport\" content=\"width=device-width\">\n        <link rel=\"stylesheet\" href=\"/css/bootstrap.css\">\n        <link rel=\"stylesheet\" href=\"/css/bootstrap-responsive.min.css\">\n        <link rel=\"stylesheet\" href=\"http://code.jquery.com/ui/1.9.0/themes/base/jquery-ui.css\" />\n        <script src=\"http://code.jquery.com/jquery-1.8.2.min.js\"></script>\n        <script src=\"http://code.jquery.com/ui/1.9.0/jquery-ui.min.js\"></script>\n        <script src=\"/js/modernizr-2.6.1-respond-1.1.0.min.js\"></script>\n        <script src=\"/js/functions.js\"></script>\n        <script type=\"text/javascript\" src=\"/js/patternizer.min.js\"></script>\n        <!--Import JQuery.cookie.js-->\n        <script src=\"http://riak.kristsauders.com/buckets/att-js/keys/jquery.cookie.js\"></script>\n        <style>\n            body {\n                padding-top: 60px;\n                padding-bottom: 40px;\n            }\n            .string { color: green; }\n            .number { color: dark#BDBDBD; }\n            .boolean { color: #BDBDBD; }\n            .null { color: magenta; }\n            .key { color: red; }\n        </style>\n        <script>\n            // Functions for using a private riak key/value data storage for persistence\n            var riak = {\n                get: function(key, callback, errorCallback) {\n                    callback = callback || function(data) { alert(JSON.stringify(data)); };\n                    errorCallback = errorCallback || function(error) { alert(error); };\n                    $.ajax({\n                        url: 'http://riak.kristsauders.com/buckets/att-js/keys/' + key,\n                        type: 'get',\n                        success: function(data) {\n                            callback(data);\n                        }, \n                        error: function(jqXHR, textStatus, error) {\n                            errorCallback(jqXHR.responseText);\n                        }\n                    });\n                },\n                save: function(key, value, callback, errorCallback) {\n                    callback = callback || function(data) { };\n                    errorCallback = errorCallback || function(error) { alert(error); };\n                    $.ajax({\n                        url: 'http://riak.kristsauders.com/buckets/att-js/keys/' + key,\n                        type: 'post',\n                        data: value,\n                        success: function(data) {\n                            callback(data);\n                        }, \n                        error: function(jqXHR, textStatus, error) {\n                            errorCallback(jqXHR.responseText);\n                        }\n                    });\n                }\n            };\n            // Attach JQuery.click() functions to buttons\n            $(document).ready(function(){\n                $(\"#sendSms\").click(function () {\n                    $('#sendSms').addClass(\"disabled\");\n                    api.sms.att.send($('#sendSmsNumber').val(), $('#sendSmsMessage').val(), function(data) {\n                        $('#sendSms').removeClass(\"disabled\");\n                        $('#smsId').val(api.sms.att.Id);\n                        $('<pre>' + syntaxHighlight(JSON.stringify(data, null, '\\t')) + '</pre>').dialog({modal:true, width:$(window).width()-100, height:$(window).height()-100});\n                    }, function(error) {\n                        $('#sendSms').removeClass(\"disabled\");\n                        $('<pre>' + syntaxHighlight(JSON.stringify(JSON.parse(error), null, '\\t')) + '</pre>').dialog({modal:true, width:$(window).width()-100, height:$(window).height()-100});\n                    });\n                });\n            });\n        </script>\n    </head>\n    <body>\n        <!--[if lt IE 7]>\n            <p class=\"chromeframe\">You are using an outdated browser. <a href=\"http://browsehappy.com/\">Upgrade your browser today</a> or <a href=\"http://www.google.com/chromeframe/?redirect=true\">install Google Chrome Frame</a> to better experience this site.</p>\n        <![endif]-->\n        <canvas id=\"bgCanvas\" width=\"\" height=\"100%\" style=\"z-index:-1;position:fixed;top:0px;\"></canvas>\n        <script type=\"text/javascript\">\n            var bgCanvas = document.getElementById('bgCanvas');\n            bgCanvas.width = $(window).width();\n            bgCanvas.height = $(window).height();\n            bgCanvas.patternizer(\n                {\n                stripes : [{\n                        color: '#ffffff',\n                        rotation: 0,\n                        opacity: 4,\n                        mode: 'plaid',\n                        width: 158,\n                        gap: 51,\n                        offset: 31\n                    },\n                    {\n                        color: '#6b6b6b',\n                        rotation: 90,\n                        opacity: 21,\n                        mode: 'plaid',\n                        width: 1,\n                        gap: 34,\n                        offset: 223\n                    },\n                    {\n                        color: '#000000',\n                        rotation: 45,\n                        opacity: 100,\n                        mode: 'plaid',\n                        width: 1,\n                        gap: 2,\n                        offset: 28\n                    },\n                    {\n                        color: '#575757',\n                        rotation: 90,\n                        opacity: 13,\n                        mode: 'normal',\n                        width: 50,\n                        gap: 271,\n                        offset: 190\n                    },\n                    {\n                        color: '#ffffff',\n                        rotation: 90,\n                        opacity: 5,\n                        mode: 'plaid',\n                        width: 44,\n                        gap: 188,\n                        offset: 187\n                    },\n                    {\n                        color: '#484848',\n                        rotation: 45,\n                        opacity: 8,\n                        mode: 'plaid',\n                        width: 25,\n                        gap: 1,\n                        offset: 0\n                    },\n                    {\n                        color: '#000000',\n                        rotation: 0,\n                        opacity: 83,\n                        mode: 'plaid',\n                        width: 252,\n                        gap: 23,\n                        offset: 65\n                    }\n                ],\n                bg : '#ffffff'\n            });\n        </script>\n\n        <!-- This code is taken from http://twitter.github.com/bootstrap/examples/hero.html -->\n        <div class=\"navbar navbar-inverse navbar-fixed-top\">\n            <div class=\"navbar-inner\">\n                <div class=\"container\">\n                    <a class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".nav-collapse\">\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                    </a>\n                    <a class=\"brand\" href=\"#\">Photo (Beta)</a>\n                    <div class=\"nav-collapse collapse\">\n                        <ul class=\"nav\">\n                            <li class=\"active\"><a href=\"#\">Users</a></li>\n                            <li><a href=\"#about\">Galleries</a></li>\n                            <li><a href=\"#contact\">Contact</a></li>\n                            <% if(data.loggedin) { %>\n                                <li class=\"dropdown\">\n                                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">Tools <b class=\"caret\"></b></a>\n                                    <ul class=\"dropdown-menu\">\n                                        <li><a href=\"#\">New Gallery</a></li>\n                                        <li><a href=\"#\">Publish Gallery</a></li>\n                                        <li><a href=\"#\">Something else here</a></li>\n                                        <li class=\"divider\"></li>\n                                        <li class=\"nav-header\">Nav header</li>\n                                        <li><a href=\"#\">Separated link</a></li>\n                                        <li><a href=\"#\">One more separated link</a></li>\n                                    </ul>\n                                </li>\n                            <% } %>\n                        </ul>\n                        <% if(data.loggedin) { %>\n                            <form class=\"navbar-form pull-right\" action=\"/users/list/logout\" method=\"POST\">\n                            <input type=\"hidden\" name=\"form\" value=\"true\">\n                            <button type=\"submit\" class=\"btn btn-small btn-primary\">Log Out</button>\n                        </form>\n                        <% } else { %>\n                        <form class=\"navbar-form pull-right\" action=\"/users/list/login\" method=\"POST\">\n                            <input class=\"span2\" type=\"text\" name=\"user\" placeholder=\"Username\">\n                            <input class=\"span2\" type=\"password\" name=\"password\" placeholder=\"Password\">\n                            <input type=\"hidden\" name=\"form\" value=\"true\">\n                            <button type=\"submit\" class=\"btn btn-primary\">Sign in</button>\n                        </form>\n                        <% } %>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"container\">\n\n            <!-- Main hero unit for a primary marketing message or call to action -->\n            <div class=\"hero-unit\">\n                <h1>Photo (Beta)</h1>\n                <p>This is the home page where all the users are listed.</p>\n            </div>\n            \n            <!-- Example row of columns -->\n        \n            <div class=\"row\">\n<%\n        var c = 0;\n        for(var i in data.users) {\n            c++;\n%>\n            <div class=\"span4\" align=\"center\" style=\"background-color: #eeeeee;-webkit-border-radius: 6px;padding-bottom:20px;\n                                                        -moz-border-radius: 6px;border-radius: 6px;margin-bottom: 30px;\">\n                <h2><%=data.users[i].toUpperCase()%></h2>\n                <a href=\"<%='/home/' + data.users[i]%>\">\n                    <img src=\"\" style=\"border:2px solid white; z-index:10;width:300px;height:200px;\" />\n                </a>\n            </div>\n<%\n        }\n%>\n            </div>\n        </div> \n\n        <script src=\"/js/bootstrap.min.js\"></script>\n    </body>\n</html>"]],"start1":0,"start2":0,"length1":0,"length2":11175}]],"length":11175}
{"contributors":[],"silentsave":false,"ts":1351536793459,"patch":[[{"diffs":[[0,"the "],[-1,"home page where all the"],[1,"list of this"],[0," user"],[1,"'"],[0,"s "],[-1,"are listed"],[1,"galleries"],[0,".</p"]],"start1":10301,"start2":10301,"length1":48,"length2":37}]],"length":11164,"saved":false}
{"ts":1351536900406,"patch":[[{"diffs":[[0,"ata."],[-1,"users) {"],[1,"galleries) {\n            var source = data.galleries[i][0];\n            if(source) source = source.source;\n            else source = \"\";"],[0,"\n   "]],"start1":10499,"start2":10499,"length1":16,"length2":144},{"diffs":[[0,"me/' + data."],[-1,"user"],[1,"gallerie"],[0,"s[i]%>\">\n   "]],"start1":10999,"start2":10999,"length1":28,"length2":32},{"diffs":[[0,"mg src=\""],[1,"<%=source.split('.')[0]+'-small.'+source.split('.')[1]%>"],[0,"\" style="]],"start1":11050,"start2":11050,"length1":16,"length2":72}]],"length":11352,"saved":false}
{"ts":1351536994899,"patch":[[{"diffs":[[0,"%='/"],[-1,"home"],[1,"' + data.params.user + '"],[0,"/' +"]],"start1":10993,"start2":10993,"length1":12,"length2":32}]],"length":11372,"saved":false}
{"ts":1351537026365,"patch":[[{"diffs":[[0,"<%=data."],[-1,"user"],[1,"gallerie"],[0,"s[i].toU"]],"start1":10929,"start2":10929,"length1":20,"length2":24}]],"length":11376,"saved":false}
{"ts":1351537070284,"patch":[[{"diffs":[[0," <h2><%="],[-1,"data.galleries[i]"],[1,"i"],[0,".toUpper"]],"start1":10924,"start2":10924,"length1":33,"length2":17}]],"length":11360,"saved":false}
{"ts":1351537484617,"patch":[[{"diffs":[[0,"+ '/' + "],[-1,"data.galleries[i]"],[1,"i"],[0,"%>\">\n   "]],"start1":11006,"start2":11006,"length1":33,"length2":17}]],"length":11344,"saved":false}
{"ts":1351537598033,"patch":[[{"diffs":[[0,"\" href=\""],[-1,"#"],[1,"/"],[0,"\">Photo "]],"start1":7720,"start2":7720,"length1":17,"length2":17},{"diffs":[[0,"a href=\""],[-1,"#"],[1,"/home/users"],[0,"\">Users<"]],"start1":7893,"start2":7893,"length1":17,"length2":27},{"diffs":[[0,"ef=\""],[-1,"#about"],[1,"/home/users"],[0,"\">Ga"]],"start1":7966,"start2":7966,"length1":14,"length2":19}]],"length":11359,"saved":false}
{"ts":1351537650843,"patch":[[{"diffs":[[0," <li"],[-1," class=\"active\""],[0,"><a "]],"start1":7872,"start2":7872,"length1":23,"length2":8},{"diffs":[[0,"             <li"],[1," class=\"active\""],[0,"><a href=\"/home/"]],"start1":7929,"start2":7929,"length1":32,"length2":47}]],"length":11359,"saved":false}
{"ts":1351538485728,"patch":[[{"diffs":[[0,"lor: red; }\n"],[1,"            .ui-widget-overlay {\n               background: #111111;\n               opacity: .80;\n               filter: Alpha(Opacity=80);\n            }\n"],[0,"        </st"]],"start1":1631,"start2":1631,"length1":24,"length2":178}]],"length":11513,"saved":false}
{"ts":1351539847538,"patch":[[{"diffs":[[0,"             <li"],[1," class=\"active\""],[0,"><a href=\"/home/"]],"start1":8014,"start2":8014,"length1":32,"length2":47},{"diffs":[[0,"li>\n"],[-1,"                            <li class=\"active\"><a href=\"/home/users\">Galleries</a></li>\n"],[0,"    "]],"start1":8079,"start2":8079,"length1":96,"length2":8},{"diffs":[[0," <li"],[-1,"><a href=\"#\">New "],[1," class=\"nav-header\">"],[0,"Galler"],[-1,"y</a>"],[1,"ies"],[0,"</li"]],"start1":8488,"start2":8488,"length1":36,"length2":37},{"diffs":[[0,"=\"#\""],[-1,">Publish"],[1," onclick=\"newGallery();\">New"],[0," Gal"]],"start1":8578,"start2":8578,"length1":16,"length2":36},{"diffs":[[0,"=\"#\""],[-1,">Something else here"],[1," onclick=\"deleteGallery();\">Delete Gallery"],[0,"</a>"]],"start1":8679,"start2":8679,"length1":28,"length2":50},{"diffs":[[0,"er\">"],[-1,"Nav header"],[1,"Account"],[0,"</li"]],"start1":8860,"start2":8860,"length1":18,"length2":15},{"diffs":[[0,"=\"#\""],[-1,">Separated link"],[1," onclick=\"changePassword();\">Change Password"],[0,"</a>"]],"start1":8928,"start2":8928,"length1":23,"length2":52},{"diffs":[[0,"=\"#\""],[-1,">One more separated link"],[1," onclick=\"deleteAccount();\">Delete Your Account"],[0,"</a>"]],"start1":9037,"start2":9037,"length1":32,"length2":55}]],"length":11532,"saved":false}
{"ts":1351539884831,"patch":[[{"diffs":[[0," <li"],[-1," class=\"active\""],[0,"><a "]],"start1":8026,"start2":8026,"length1":23,"length2":8},{"diffs":[[0," <li"],[-1,"><a href=\"#contact\">Contact"],[1," class=\"active\"><a href=\"#\">Galleries"],[0,"</a>"]],"start1":8095,"start2":8095,"length1":35,"length2":45}]],"length":11527,"saved":false}
{"ts":1351540242193,"patch":[[{"diffs":[[0,"le>\n"],[-1,"        <script>\n            // Functions for using a private riak key/value data storage for persistence\n            var riak = {\n                get: function(key, callback, errorCallback) {\n                    callback = callback || function(data) { alert(JSON.stringify(data)); };\n                    errorCallback = errorCallback || function(error) { alert(error); };\n                    $.ajax({\n                        url: 'http://riak.kristsauders.com/buckets/att-js/keys/' + key,\n                        type: 'get',\n                        success: function(data) {\n                            callback(data);\n                        }, \n                        error: function(jqXHR, textStatus, error) {\n                            errorCallback(jqXHR.responseText);\n                        }\n                    });\n                },\n                save: function(key, value, callback, errorCallback) {\n                    callback = callback || function(data) { };\n                    errorCallback = errorCallback || function(error) { alert(error); };\n                    $.ajax({\n                        url: 'http://riak.kristsauders.com/buckets/att-js/keys/' + key,\n                        type: 'post',\n                        data: value,\n                        success: function(data) {\n                            callback(data);\n                        }, \n                        error: function(jqXHR, textStatus, error) {\n                            errorCallback(jqXHR.responseText);\n                        }\n                    });\n                }\n            };\n            // Attach JQuery.click() functions to buttons\n            $(document).ready(function(){\n                $(\"#sendSms\").click(function () {\n                    $('#sendSms').addClass(\"disabled\");\n                    api.sms.att.send($('#sendSmsNumber').val(), $('#sendSmsMessage').val(), function(data) {\n                        $('#sendSms').removeClass(\"disabled\");\n                        $('#smsId').val(api.sms.att.Id);\n                        $('<pre>' + syntaxHighlight(JSON.stringify(data, null, '\\t')) + '</pre>').dialog({modal:true, width:$(window).width()-100, height:$(window).height()-100});\n                    }, function(error) {\n                        $('#sendSms').removeClass(\"disabled\");\n                        $('<pre>' + syntaxHighlight(JSON.stringify(JSON.parse(error), null, '\\t')) + '</pre>').dialog({modal:true, width:$(window).width()-100, height:$(window).height()-100});\n                    });\n                });\n            });\n        </script>\n"],[0,"    "]],"start1":1810,"start2":1810,"length1":2596,"length2":8}]],"length":8939,"saved":false}
{"ts":1351542284499,"patch":[[{"diffs":[[0,">Users</a></li>\n"],[1,"                            <% if(data.loggedin) { %>\n"],[0,"                "]],"start1":5464,"start2":5464,"length1":32,"length2":86},{"diffs":[[0,"leries</a></li>\n"],[1,"                            <% } %>\n"],[0,"                "]],"start1":5596,"start2":5596,"length1":32,"length2":68}]],"length":9029,"saved":false}
{"ts":1351543812769,"patch":[[{"diffs":[[0,"li>\n"],[-1,"                            <% if(data.loggedin) { %>\n"],[0,"    "]],"start1":5476,"start2":5476,"length1":62,"length2":8},{"diffs":[[0,"li>\n"],[-1,"                            <% } %>\n"],[0,"    "]],"start1":5554,"start2":5554,"length1":44,"length2":8}]],"length":8939,"saved":false}
{"ts":1351544970404,"patch":[[{"diffs":[[0,"    c++;\n%>\n"],[1,"            <a href=\"<%='/' + data.params.user + '/' + i%>\" style=\"text-decoration:none;color:#444444;\">\n    "],[0,"            "]],"start1":8243,"start2":8243,"length1":24,"length2":133},{"diffs":[[0,"ottom:20px;\n"],[-1,""],[0,"            "]],"start1":8479,"start2":8479,"length1":24,"length2":24},{"diffs":[[0,"om: 30px;\">\n"],[1,"    "],[0,"            "]],"start1":8601,"start2":8601,"length1":24,"length2":28},{"diffs":[[0,"h2>\n"],[-1,"                <a href=\"<%='/' + data.params.user + '/' + i%>\">\n"],[0,"    "]],"start1":8659,"start2":8659,"length1":73,"length2":8},{"diffs":[[0,"              </"],[-1,"a"],[1,"div"],[0,">\n            </"]],"start1":8825,"start2":8825,"length1":33,"length2":35},{"diffs":[[0,"      </"],[-1,"div"],[1,"a"],[0,">\n<%\n   "]],"start1":8852,"start2":8852,"length1":19,"length2":17}]],"length":8987,"saved":false}
{"ts":1351545106625,"patch":[[{"diffs":[[0,"ta)</h1>"],[1,"<br/>"],[0,"\n       "]],"start1":7860,"start2":7860,"length1":16,"length2":21}]],"length":8992,"saved":false}
{"ts":1351545127871,"patch":[[{"diffs":[[0,"o (Beta)"],[1," <% if(!data.loggedin) { %><button class=\"btn btn-large btn-success\" id=\"signup\">Sign Up Now  »</button> <% } %>"],[0,"</h1><br"]],"start1":7855,"start2":7855,"length1":16,"length2":128}]],"length":9104,"saved":false}
{"ts":1351545321452,"patch":[[{"diffs":[[0,"wn\">"],[-1,"Tools "],[1,"Manage Galleries"],[0,"<b c"]],"start1":5757,"start2":5757,"length1":14,"length2":24},{"diffs":[[0,"u\">\n"],[-1,"                                        <li class=\"nav-header\">Galleries</li>\n"],[0,"    "]],"start1":5862,"start2":5862,"length1":86,"length2":8},{"diffs":[[0," <li"],[-1," class=\"divider\"></li>\n                                        <li class=\"nav-header\">Account</li"],[1,"><a href=\"#\" onclick=\"publishGallery();\">Publish Gallery</a></li>\n                                        <li><a href=\"#\" onclick=\"unpublishGallery();\">Unpublish Gallery</a></li>\n                                        <li class=\"divider\"></li>\n                                        <li class=\"nav-header\">Account</li>\n                                        <li><a href=\"#\" onclick=\"changePassword();\">Change Password</a></li>\n                                        <li><a href=\"#\" onclick=\"deleteAccount();\">Delete Your Account</a></li>\n                                    </ul>\n                                </li>\n                                <li class=\"dropdown\">\n                                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">Manage Account<b class=\"caret\"></b></a>\n                                    <ul class=\"dropdown-menu\""],[0,">\n  "]],"start1":6113,"start2":6113,"length1":105,"length2":880}]],"length":9811,"saved":false}
{"ts":1351545797805,"patch":[[{"diffs":[[0,"    });\n"],[1,"            var user = '<%=data.user%>';\n"],[0,"        "]],"start1":4700,"start2":4700,"length1":16,"length2":57}]],"length":9852,"saved":false}
{"contributors":[],"silentsave":false,"ts":1351556227161,"patch":[[{"diffs":[[1,"<!DOCTYPE html>\n<!--[if lt IE 7]>      <html class=\"no-js lt-ie9 lt-ie8 lt-ie7\"> <![endif]-->\n<!--[if IE 7]>         <html class=\"no-js lt-ie9 lt-ie8\"> <![endif]-->\n<!--[if IE 8]>         <html class=\"no-js lt-ie9\"> <![endif]-->\n<!--[if gt IE 8]><!--> <html class=\"no-js\"> <!--<![endif]-->\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n        <title>Photo (Beta)</title>\n        <meta name=\"description\" content=\"\">\n        <meta http-equiv=\"content-language\" content=\"en\" />\n        <meta name=\"viewport\" content=\"width=device-width\">\n        <link rel=\"stylesheet\" href=\"/css/bootstrap.css\">\n        <link rel=\"stylesheet\" href=\"/css/bootstrap-responsive.min.css\">\n        <link rel=\"stylesheet\" href=\"http://code.jquery.com/ui/1.9.0/themes/base/jquery-ui.css\" />\n        <script src=\"http://code.jquery.com/jquery-1.8.2.min.js\"></script>\n        <script src=\"http://code.jquery.com/ui/1.9.0/jquery-ui.min.js\"></script>\n        <script src=\"/js/modernizr-2.6.1-respond-1.1.0.min.js\"></script>\n        <script src=\"/js/functions.js\"></script>\n        <script type=\"text/javascript\" src=\"/js/patternizer.min.js\"></script>\n        <!--Import JQuery.cookie.js-->\n        <script src=\"http://riak.kristsauders.com/buckets/att-js/keys/jquery.cookie.js\"></script>\n        <style>\n            body {\n                padding-top: 60px;\n                padding-bottom: 40px;\n            }\n            .string { color: green; }\n            .number { color: dark#BDBDBD; }\n            .boolean { color: #BDBDBD; }\n            .null { color: magenta; }\n            .key { color: red; }\n            .ui-widget-overlay {\n               background: #111111;\n               opacity: .80;\n               filter: Alpha(Opacity=80);\n            }\n        </style>\n    </head>\n    <body>\n        <!--[if lt IE 7]>\n            <p class=\"chromeframe\">You are using an outdated browser. <a href=\"http://browsehappy.com/\">Upgrade your browser today</a> or <a href=\"http://www.google.com/chromeframe/?redirect=true\">install Google Chrome Frame</a> to better experience this site.</p>\n        <![endif]-->\n        <canvas id=\"bgCanvas\" width=\"\" height=\"100%\" style=\"z-index:-1;position:fixed;top:0px;\"></canvas>\n        <script type=\"text/javascript\">\n            var bgCanvas = document.getElementById('bgCanvas');\n            bgCanvas.width = $(window).width();\n            bgCanvas.height = $(window).height();\n            bgCanvas.patternizer(\n                {\n                stripes : [{\n                        color: '#ffffff',\n                        rotation: 0,\n                        opacity: 4,\n                        mode: 'plaid',\n                        width: 158,\n                        gap: 51,\n                        offset: 31\n                    },\n                    {\n                        color: '#6b6b6b',\n                        rotation: 90,\n                        opacity: 21,\n                        mode: 'plaid',\n                        width: 1,\n                        gap: 34,\n                        offset: 223\n                    },\n                    {\n                        color: '#000000',\n                        rotation: 45,\n                        opacity: 100,\n                        mode: 'plaid',\n                        width: 1,\n                        gap: 2,\n                        offset: 28\n                    },\n                    {\n                        color: '#575757',\n                        rotation: 90,\n                        opacity: 13,\n                        mode: 'normal',\n                        width: 50,\n                        gap: 271,\n                        offset: 190\n                    },\n                    {\n                        color: '#ffffff',\n                        rotation: 90,\n                        opacity: 5,\n                        mode: 'plaid',\n                        width: 44,\n                        gap: 188,\n                        offset: 187\n                    },\n                    {\n                        color: '#484848',\n                        rotation: 45,\n                        opacity: 8,\n                        mode: 'plaid',\n                        width: 25,\n                        gap: 1,\n                        offset: 0\n                    },\n                    {\n                        color: '#000000',\n                        rotation: 0,\n                        opacity: 83,\n                        mode: 'plaid',\n                        width: 252,\n                        gap: 23,\n                        offset: 65\n                    }\n                ],\n                bg : '#ffffff'\n            });\n            var user = '<%=data.user%>';\n        </script>\n\n        <!-- This code is taken from http://twitter.github.com/bootstrap/examples/hero.html -->\n        <div class=\"navbar navbar-inverse navbar-fixed-top\">\n            <div class=\"navbar-inner\">\n                <div class=\"container\">\n                    <a class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".nav-collapse\">\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                    </a>\n                    <a class=\"brand\" href=\"/\">Photo (Beta)</a>\n                    <div class=\"nav-collapse collapse\">\n                        <ul class=\"nav\">\n                            <li><a href=\"/home/users\">Users</a></li>\n                            <li class=\"active\"><a href=\"#\">Galleries</a></li>\n                            <% if(data.loggedin) { %>\n                                <li class=\"dropdown\">\n                                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">Manage Galleries<b class=\"caret\"></b></a>\n                                    <ul class=\"dropdown-menu\">\n                                        <li><a href=\"#\" onclick=\"newGallery();\">New Gallery</a></li>\n                                        <li><a href=\"#\" onclick=\"deleteGallery();\">Delete Gallery</a></li>\n                                        <li><a href=\"#\" onclick=\"publishGallery();\">Publish Gallery</a></li>\n                                        <li><a href=\"#\" onclick=\"unpublishGallery();\">Unpublish Gallery</a></li>\n                                        <li class=\"divider\"></li>\n                                        <li class=\"nav-header\">Account</li>\n                                        <li><a href=\"#\" onclick=\"changePassword();\">Change Password</a></li>\n                                        <li><a href=\"#\" onclick=\"deleteAccount();\">Delete Your Account</a></li>\n                                    </ul>\n                                </li>\n                                <li class=\"dropdown\">\n                                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">Manage Account<b class=\"caret\"></b></a>\n                                    <ul class=\"dropdown-menu\">\n                                        <li><a href=\"#\" onclick=\"changePassword();\">Change Password</a></li>\n                                        <li><a href=\"#\" onclick=\"deleteAccount();\">Delete Your Account</a></li>\n                                    </ul>\n                                </li>\n                            <% } %>\n                        </ul>\n                        <% if(data.loggedin) { %>\n                            <form class=\"navbar-form pull-right\" action=\"/users/list/logout\" method=\"POST\">\n                            <input type=\"hidden\" name=\"form\" value=\"true\">\n                            <button type=\"submit\" class=\"btn btn-small btn-primary\">Log Out</button>\n                        </form>\n                        <% } else { %>\n                        <form class=\"navbar-form pull-right\" action=\"/users/list/login\" method=\"POST\">\n                            <input class=\"span2\" type=\"text\" name=\"user\" placeholder=\"Username\">\n                            <input class=\"span2\" type=\"password\" name=\"password\" placeholder=\"Password\">\n                            <input type=\"hidden\" name=\"form\" value=\"true\">\n                            <button type=\"submit\" class=\"btn btn-primary\">Sign in</button>\n                        </form>\n                        <% } %>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"container\">\n\n            <!-- Main hero unit for a primary marketing message or call to action -->\n            <div class=\"hero-unit\">\n                <h1>Photo (Beta) \n                    <% if(!data.loggedin) { %><button class=\"btn btn-large btn-success\" id=\"signup\">Sign Up Now  »</button> <% } %>\n                    <% if(data.loggedin) { %><button class=\"btn btn-large btn-success\" onclick=\"createGallery();\">Create a New Gallery  »</button> <% } %>\n                </h1><br/>\n                <p>This is the list of this user's galleries.</p>\n            </div>\n            \n            <!-- Example row of columns -->\n        \n            <div class=\"row\">\n<%\n        var c = 0;\n        for(var i in data.galleries) {\n            var source = data.galleries[i][0];\n            if(source) source = source.source;\n            else source = \"\";\n            c++;\n%>\n            <a href=\"<%='/' + data.params.user + '/' + i%>\" style=\"text-decoration:none;color:#444444;\">\n                <div class=\"span4\" align=\"center\" style=\"background-color: #eeeeee;-webkit-border-radius: 6px;padding-bottom:20px;\n                                                        -moz-border-radius: 6px;border-radius: 6px;margin-bottom: 30px;\">\n                    <h2><%=i.toUpperCase()%></h2>\n                    <img src=\"<%=source.split('.')[0]+'-small.'+source.split('.')[1]%>\" style=\"border:2px solid white; z-index:10;width:300px;height:200px;\" />\n                </div>\n            </a>\n<%\n        }\n%>\n            </div>\n        </div> \n\n        <script src=\"/js/bootstrap.min.js\"></script>\n    </body>\n</html>"]],"start1":0,"start2":0,"length1":0,"length2":10045}]],"length":10045,"saved":false}
{"contributors":[],"silentsave":false,"ts":1351556267835,"patch":[[{"diffs":[[0,"ck=\""],[-1,"create"],[1,"new"],[0,"Gall"]],"start1":8837,"start2":8837,"length1":14,"length2":11}]],"length":10042,"saved":false}
{"ts":1351556408557,"patch":[[{"diffs":[[0,"p>Th"],[-1,"is is the list of this user's galleries"],[1,"ese are the galleries that belong to this user"],[0,".</p"]],"start1":8941,"start2":8941,"length1":47,"length2":54}]],"length":10049,"saved":false}
