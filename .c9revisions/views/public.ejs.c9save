{"ts":1347042988992,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!DOCTYPE HTML>\n<html>\n<head>\n<title>Krists Auders Photography (Beta)</title>\n<script type=\"text/javascript\" >\n</script>\n<script src=\"http://code.jquery.com/jquery-1.7.1.min.js\"></script>\n        <meta name=\"viewport\" content=\"width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;\"/>\n\t\t<style type=\"text/css\">\n\t\t\t*\n\t\t\t{\n\t\t\t\tcolor: #444;\n\t\t\t\tfont-family: Monospace;\n\t\t\t\tfont-size: 12px;\n\t\t\t}\n\t\t\t\n\t\t\tbody\n\t\t\t{\n\t\t\t\tmargin: 0px;\n\t\t\t\toverflow: scroll;\n\t\t\t}\n            img {\n                opacity: 1;\n            }\n            img:hover {\n                opacity: 1;   \n                /*Reflection*/ \n                /*-webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(.7, transparent), to(rgba(0,0,0,0.4)));   */\n                /*Glow*/ \n                -webkit-box-shadow: 0px 0px 5px rgba(255,255,255,0.8); -moz-box-shadow: 0px 0px 5px rgba(255,255,255,0.8); box-shadow: 0px 0px 5px rgba(255,255,255,0.8); \n                -ms-filter: \"progid:DXImageTransform.Microsoft.Shadow(Strength=2, Direction=135, Color='#000000')\";\n                filter: progid:DXImageTransform.Microsoft.Shadow(Strength=2, Direction=135, Color='#000000');\n            }\n            .no-hover {\n                opacity: 1;  \n                -webkit-box-shadow: 0px 0px 0px; -moz-box-shadow: 0px 0px 0px; box-shadow: 0px 0px 0px;\n            }\n            .no-hover:hover {\n                opacity: 1;  \n                -webkit-box-shadow: 0px 0px 0px; -moz-box-shadow: 0px 0px 0px; box-shadow: 0px 0px 0px;\n            }\n\t\t</style>\n<script type=\"text/javascript\" >\nvar ddpp=null;\nfunction getScrollXY() {\n\t  var scrOfX = 0, scrOfY = 0;\n\t  if( typeof( window.pageYOffset ) == 'number' ) {\n\t    //Netscape compliant\n\t    scrOfY = window.pageYOffset;\n\t    scrOfX = window.pageXOffset;\n\t  } else if( document.body && ( document.body.scrollLeft || document.body.scrollTop ) ) {\n\t    //DOM compliant\n\t    scrOfY = document.body.scrollTop;\n\t    scrOfX = document.body.scrollLeft;\n\t  } else if( document.documentElement && ( document.documentElement.scrollLeft || document.documentElement.scrollTop ) ) {\n\t    //IE6 standards compliant mode\n\t    scrOfY = document.documentElement.scrollTop;\n\t    scrOfX = document.documentElement.scrollLeft;\n\t  }\n\t  return [ scrOfX, scrOfY ];\n\t}\nfunction get_cookie(Name) {\n\t  var search = Name + \"=\"\n\t  var returnvalue = \"\";\n\t  if (document.cookie.length > 0) {\n\t    offset = document.cookie.indexOf(search)\n\t    // if cookie exists\n\t    if (offset != -1) { \n\t      offset += search.length\n\t      // set index of beginning of value\n\t      end = document.cookie.indexOf(\";\", offset);\n\t      // set index of end of cookie value\n\t      if (end == -1) end = document.cookie.length;\n\t      returnvalue=unescape(document.cookie.substring(offset, end))\n\t      }\n\t   }\n\t  return returnvalue;\n\t}\nfunction pageScroll() {\n\tvar scrollY = get_cookie(\"scrollY\");\n\tvar scrollX = get_cookie(\"scrollX\");\n\twindow.scrollBy(scrollX,scrollY); \n}\n\nfunction setPageScroll() {\n\tvar exp = new Date( );\n\tvar nowPlus = exp.getTime( ) + (5000);\n\texp.setTime(nowPlus);\n\tdocument.cookie = \"scrollY=\" + getScrollXY()[1] + \"; expires=\" + exp.toGMTString( );\n\tdocument.cookie = \"scrollX=\" + getScrollXY()[0] + \"; expires=\" + exp.toGMTString( );\n}\n</script>\n<style type=\"text/css\">\n.drag {position: absolute;}\n</style>\n\t\n\t<script type=\"text/javascript\">\n\tfunction getWindowSize() {\n var viewportwidth;\n var viewportheight;\n\n if (typeof window.innerWidth != 'undefined')\n {\n      viewportwidth = window.innerWidth;\n      viewportheight = window.innerHeight;\n } else if (typeof document.documentElement != 'undefined'\n     && typeof document.documentElement.clientWidth !=\n     'undefined' && document.documentElement.clientWidth != 0)\n {\n       viewportwidth = document.documentElement.clientWidth;\n       viewportheight = document.documentElement.clientHeight;\n } else {\n       viewportwidth = document.getElementsByTagName('body')[0].clientWidth;\n       viewportheight = document.getElementsByTagName('body')[0].clientHeight\n }\n if(viewportwidth==0) {\n     viewportwidth = document.getElementsByTagName('body')[0].clientWidth;}\n if(viewportheight==0) {\n     viewportheight = document.getElementsByTagName('body')[0].clientWidth;}\n return [viewportwidth, viewportheight];\n\t}\n</script>\n<script type=\"text/javascript\">\nfunction resizeFirst() {\n\tx = document.getElementsByTagName(\"img\");\n\tvar viewportwidth = getWindowSize()[0];\n\tfor (i=0;i<x.length;i++)\n\t{\n        if(x[i].id==\"background\") continue;\n\t\tx[i].style.width = x[i].width*(viewportwidth/1366)+\"px\";\n\t\tx[i].style.height = x[i].height*(viewportwidth/1366)+\"px\";\n\t\tx[i].style.left = parseInt(x[i].style.left)*(viewportwidth/1366)+\"px\";\n\t\tx[i].style.top = parseInt(x[i].style.top)*(viewportwidth/1366)+\"px\";\n\t}\n}\n\n function fullScreen(el) {\n     if(document.getElementById(el.src.split(\"/\").pop().replace('-small','').replace('-medium','').replace('-large','')+\"link\")) {\n    \t var linkObj = document.getElementById(el.src.split(\"/\").pop().replace('-small','').replace('-medium','').replace('-large','')+\"link\");\n\t\t if(linkObj.innerText){\n\t\t\t window.location = linkObj.innerText;\n\t\t } else if(linkObj.textContent) {\n\t\t\t window.location = linkObj.textContent;\n\t\t }\n\t } else {\n        document.getElementById(\"fullScreenImage\").src = el.src;\n        var ih = document.getElementById(el.id).firstChild.height;\n        var iw = document.getElementById(el.id).firstChild.width;\n        document.getElementById(\"fullScreenImage\").style.width = getWindowSize()[0] + 'px';\n           var rs = getWindowSize()[1]/getWindowSize()[0];\n           var ri = ih/iw;\n           var rsi = rs/ri;\n           if(rsi>1) {\n               document.getElementById(\"fullScreenImg\").style.width = 0.9*getWindowSize()[0] + 'px';\n               document.getElementById(\"fullScreenImg\").style.left = 0.05*getWindowSize()[0] + 'px';\n               document.getElementById(\"fullScreenImage\").style.width = 0.9*getWindowSize()[0] + 'px';\n           } else {\n               var rsic = rsi*0.9*getWindowSize()[0];\n               document.getElementById(\"fullScreenImg\").style.width = rsic + 'px';\n               document.getElementById(\"fullScreenImg\").style.left = (getWindowSize()[0]-rsic)/2 + 'px';\n               document.getElementById(\"fullScreenImage\").style.width = rsic + 'px';\n           }\n\n       if(document.getElementById(\"overlay\")){\n       \t\tdocument.getElementById(\"overlay\").style.visibility = 'visible';\n       }\n       if(document.getElementById(\"fullScreenImage\").complete) {\n           document.getElementById(\"closeFullscreenButton\").style.visibility = 'visible';\n           document.getElementById(\"fullScreenImg\").style.visibility = 'visible';\n           document.getElementById(\"fullScreenImage\").style.visibility = 'visible';\n       }\n       document.getElementById(\"fullScreenImage\").onload = function() {\n               document.getElementById(\"closeFullscreenButton\").style.visibility = 'visible';\n               document.getElementById(\"fullScreenImg\").style.visibility = 'visible';\n               document.getElementById(\"fullScreenImage\").style.visibility = 'visible';\n       }\n       var hiResImg = new Image();\n       hiResImg.src = el.src.substring(0,el.src.lastIndexOf('-')) + '-large' + el.src.substring(el.src.lastIndexOf('.'));\n       if(hiResImg.complete) {\n           if((document.getElementById(\"fullScreenImage\").style.visibility=='visible') && (document.getElementById(\"fullScreenImage\").src==el.src)) {\n                document.getElementById(\"fullScreenImage\").src = hiResImg.src;\n           }\n       }\n       hiResImg.onload = function() {\n           if((document.getElementById(\"fullScreenImage\").style.visibility=='visible') && (document.getElementById(\"fullScreenImage\").src==el.src)) {\n               document.getElementById(\"fullScreenImage\").src = hiResImg.src;\n           }\n       }\n\t }\n    ddpp = dd;\n    dd.obj=null;\n    dd.evt=function(d_e) {};\n}\n\nfunction closeFullscreen() {\n    dd=ddpp;\n    dd.evt = function(d_e)\n    {\n        this.but = (this.e = d_e || window.event).which || this.e.button || 0;\n    \tthis.button = (this.e.type == 'mousedown')? this.but\n    \t\t: (dd.e && dd.e.button)? dd.e.button\n    \t\t: 0;\n    \tthis.src = this.e.target || this.e.srcElement || null;\n    \tthis.src.tag = (\"\" + (this.src.tagName || this.src)).toLowerCase();\n    \tthis.x = dd.Int(this.e.pageX || this.e.clientX || 0);\n    \tthis.y = dd.Int(this.e.pageY || this.e.clientY || 0);\n    \tif(dd.ie)\n    \t{\n    \t\tthis.x += dd.getScrollX() - (dd.ie && !dd.iemac)*1;\n    \t\tthis.y += dd.getScrollY() - (dd.ie && !dd.iemac)*1;\n    \t}\n    \t//this.modifKey = this.e.modifiers? this.e.modifiers&Event.SHIFT_MASK : (this.e.shiftKey || false);\n    \tif((this.but==3) || (this.but==2)){\n    \t\tthis.modifKey = true;\n    \t} else {\n    \t\tthis.modifKey = false;\n    \t}\n    };\n\tdocument.getElementById(\"fullScreenImage\").style.visibility = 'hidden';\n   document.getElementById(\"fullScreenImg\").style.visibility = 'hidden';\n   if(document.getElementById(\"overlay\")){\n   \t\tdocument.getElementById(\"overlay\").style.visibility = 'hidden';\n   }\n   document.getElementById(\"closeFullscreenButton\").style.visibility = 'hidden';\n}\n\nfunction shortClick(src) {\n\talert(src);\n}\nfunction fullScreenButton(el) {\n\tvar fullScreenButton = document.createElement(\"img\");\n\tfullScreenButton.setAttribute(\"id\", \"fullScreenButton\");\n\tfullScreenButton.setAttribute(\"src\",\"/images/upArrow.png\");\n\tel.parentNode.appendChild(fullScreenButton);\n\tfullScreenButton = document.getElementById(\"fullScreenButton\");\n\tfullScreenButton.style.position = 'absolute';\n\tfullScreenButton.style.left = '0px';\n\tfullScreenButton.style.top = '0px';\n\tfullScreenButton.style.width = el.width*0.05+\"px\";\n\tfullScreenButton.style.height = fullScreenButton.style.width;\n\tfullScreenButton.style.visibility = 'visible';\n\t\n\tvar fullScreenButton2 = document.createElement(\"img\");\n\tfullScreenButton2.setAttribute(\"id\", \"fullScreenButton2\");\n\tfullScreenButton2.setAttribute(\"src\",\"/images/downArrow.png\");\n\tel.parentNode.appendChild(fullScreenButton2);\n\tfullScreenButton2 = document.getElementById(\"fullScreenButton2\");\n\tfullScreenButton2.style.position = 'absolute';\n\tfullScreenButton2.style.right = '0px';\n\tfullScreenButton2.style.bottom = '0px';\n\tfullScreenButton2.style.width = el.width*0.05+\"px\";\n\tfullScreenButton2.style.height = fullScreenButton2.style.width;\n\tfullScreenButton2.style.visibility = 'visible';\n}\nfunction deleteFullScreenButton(el) {\n\tvar fullScreenButton = document.getElementById(\"fullScreenButton\");\n\tfullScreenButton.parentNode.removeChild(fullScreenButton);\n\tvar fullScreenButton2 = document.getElementById(\"fullScreenButton2\");\n\tfullScreenButton2.parentNode.removeChild(fullScreenButton2);\n}\n</script>\n\t\n</head>\n\n<body   oncontextmenu=\"return false;\" >\n<img class=\"no-hover\" name=\"background\" id=\"background\" style=\"width:100%;position:absolute;top:0px;left:0px;\" src=\"/images/<%=data.params.user + '-' + data.params.gallery%>-bg.png\" border=0/>\n<script type=\"text/javascript\" src=\"/js/dragdrop.js\"></script>\n\n<div class=\"no-hover\" name=\"overlay\" id=\"overlay\" style=\"left:-50px;top:-50px;position:fixed;visibility:hidden;width:150%;height:150%;z-index:11000;background-color:gray;opacity:0.95;\" ></div>\n\n<% var il = \"\";\nfor(var i in data.images) { \n    if(data.images[i].link.length>2) {\n          %>\n          <div style=\"visibility:hidden;\" id=\"<%=data.images[i].source.split('/').pop()%>link\"><%=data.images[i].link%></div>\n    \t  <%\n    }\n    if((data.images[i].width<400) && (data.images[i].height<400)) {\n%>\n<img src=\"<%=data.images[i].source.split('.')[0]+'-small.'+data.images[i].source.split('.')[1]%>\" style=\"z-index:<%=data.images[i].z%>;width:<%=Math.round(data.images[i].width)%>px;height:<%=Math.round(data.images[i].height)%>px;left:<%=Math.round(data.images[i].left)%>px;top:<%=Math.round(data.images[i].top)%>px;\" class=\"drag\" id=\"<%=data.images[i].source.split('/').pop()%>\" />\n<% \n} else if((data.images[i].width<900) && (data.images[i].height<900)) {\n%>\n<img src=\"<%=data.images[i].source.split('.')[0]+'-medium.'+data.images[i].source.split('.')[1]%>\" style=\"z-index:<%=data.images[i].z%>;width:<%=Math.round(data.images[i].width)%>px;height:<%=Math.round(data.images[i].height)%>px;left:<%=Math.round(data.images[i].left)%>px;top:<%=Math.round(data.images[i].top)%>px;\" class=\"drag\" id=\"<%=data.images[i].source.split('/').pop()%>\" />\n<%\n} else {\n%>\n<img src=\"<%=data.images[i].source.split('.')[0]+'-large.'+data.images[i].source.split('.')[1]%>\" style=\"z-index:<%=data.images[i].z%>;width:<%=Math.round(data.images[i].width)%>px;height:<%=Math.round(data.images[i].height)%>px;left:<%=Math.round(data.images[i].left)%>px;top:<%=Math.round(data.images[i].top)%>px;\" class=\"drag\" id=\"<%=data.images[i].source.split('/').pop()%>\" />\n<%\n}\nil += data.images[i].source.split('/').pop() + '\",\"';\n} %>\n\n<script type=\"text/javascript\">\nfunction setDraggables() {\n\tSET_DHTML(SCALABLE, SCROLL, \"<%- il.substring(0, il.length-3)%>\");\n}\nresizeFirst();\nsetDraggables(); \npageScroll();\nif(false) showDelete();\nfunction setHover() {\n\tx = document.getElementsByTagName(\"img\");\n\tfor (i=0;i<x.length;i++)\n\t{\n\t\tif(x[i].name.split(\"jpgdivNI\")[1]==\"mG\") {\n\t\t\tx[i].onmouseover = function() {fullScreenButton(this);};\n\t\t\tx[i].onmouseout = function() {deleteFullScreenButton(this);};\n\t\t}\n\t}\n}\n//setHover();\n\n  </script>\n\n<div id=\"fullScreenImg\" style=\"top:4%;visibility:hidden;z-index:12000;position:fixed;\">\n<img class=\"no-hover\" id =\"fullScreenImage\" style=\"top:0px;left:0px;position:absolute;z-index:12001;visibility:hidden;\" src=\"\" />\n<img class=\"no-hover\" id=\"closeFullscreenButton\" src=\"/images/close.png\" style=\"cursor:pointer;visibility:hidden;position:absolute;left:-40px;top:0px;z-index:10000;\" onclick=\"closeFullscreen();\"/>\n</div>\n<img src=\"/images/upArrow.png\" style=\"visibility:hidden\" />\n<img src=\"/images/downArrow.png\" style=\"visibility:hidden\" />\n<!--Google Analytics stuff here -->\n    <script type=\"text/javascript\">\n    \n      var _gaq = _gaq || [];\n      _gaq.push(['_setAccount', 'UA-33468041-1']);\n      _gaq.push(['_trackPageview']);\n    \n      (function() {\n        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\n        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n      })();\n    \n    </script>\n    \n<!-- Observer script -->\n<!--\n<script type=\"text/javascript\">\n(function(d,n){var e =d.createElement(n),s=d.getElementsByTagName(n)[0];e.async=true;e.src=\"http://commondatastorage.googleapis.com/client/observer.js#{observer:'4f8749379ef5072e400625cc'}\";s.parentNode.insertBefore(e,s);})(document,\"script\");\n</script>\n-->\n\n</body>\n</html>"]],"start1":0,"start2":0,"length1":0,"length2":14834}]],"length":14834}
{"contributors":[],"silentsave":false,"ts":1347050087645,"patch":[[{"diffs":[[0,"nk\")) {\n"],[-1,"    "],[1,"\t"],[0,"\t var li"]],"start1":4970,"start2":4970,"length1":20,"length2":17},{"diffs":[[0,"link\");\n"],[1,"         var t = '';\n"],[0,"\t\t if(li"]],"start1":5108,"start2":5108,"length1":16,"length2":37},{"diffs":[[0,"rText){\n\t\t\t "],[-1,"window.location"],[1,"t"],[0," = linkObj.i"]],"start1":5155,"start2":5155,"length1":39,"length2":25},{"diffs":[[0,"\t\t\t "],[-1,"window.location"],[1,"t"],[0," = l"]],"start1":5226,"start2":5226,"length1":23,"length2":9},{"diffs":[[0,"t;\n\t\t }\n"],[1,"         if(t.indexOf('javascript:')==-1) {\n             window.location = t;\n         } else {\n             eval(t);\n         }\n"],[0,"\t } else"]],"start1":5252,"start2":5252,"length1":16,"length2":145},{"diffs":[[0,"      }\n"],[-1,"\t }\n"],[1,"    "],[0,"    ddpp"]],"start1":8021,"start2":8021,"length1":20,"length2":20},{"diffs":[[0,"p = dd;\n"],[1,"    "],[0,"    dd.o"]],"start1":8040,"start2":8040,"length1":16,"length2":20},{"diffs":[[0,"j=null;\n    "],[1," "],[1,"   "],[0,"dd.evt=funct"]],"start1":8061,"start2":8061,"length1":24,"length2":28},{"diffs":[[0,"_e) {};\n"],[1,"     }\n"],[0,"}\n\nfunct"]],"start1":8094,"start2":8094,"length1":16,"length2":23}]],"length":14968,"saved":false}
{"contributors":[],"silentsave":false,"ts":1347320219268,"patch":[[{"diffs":[[0,"ript\" >\n"],[1,"function login(username,password) {\n    var data = new Object();\n    data.user = prompt(\"Enter username\",\"\");\n    data.password = prompt(\"Enter password\",\"\");\n    function loginSuccess() {\n        setTimeout(function(){window.location.reload(true);}, 1000);\n    }\n    $.ajax({\n       type: 'POST',\n       url: '/users/list/login',\n       data: data,\n       success: loginSuccess(),\n       dataType: 'json'\n    });\n}\n\nfunction logoutSuccess() {\n        setTimeout(function(){window.location.reload(true);}, 1000);\n    }\n\nfunction logout() {\n    $.ajax({\n       type: 'POST',\n       url: '/users/list/logout',\n       data: '',\n       success: logoutSuccess(),\n       dataType: 'json'\n    });\n}\n\n"],[0,"var ddpp"]],"start1":1615,"start2":1615,"length1":16,"length2":709}]],"length":15661,"saved":false}
{"ts":1347321253897,"patch":[[{"diffs":[[0,"gin("],[-1,"username,password"],[0,") {\n"]],"start1":1634,"start2":1634,"length1":25,"length2":8}]],"length":15644,"saved":false}
